!function(e){document.addEventListener("DOMContentLoaded",function(){let t=document.referrer,i=["google.com","bing.com","yahoo.com","duckduckgo.com","baidu.com","yandex.com",].some(e=>t.includes(e));if(i){let a=window.location.href.split(".br")[1];(window.location.href.includes("https://hml.autoglassonline.com.br")||window.location.href.includes("https://loja.autoglassonline.com.br"))&&(window.location.href=`https://autoglassonline.com.br${a}`)}!function t(){let i=window.location.href.toLowerCase();/institucional|pintura-automotiva|reparo-de-arranhoes-e-amassados/.test(i)&&e(".search-box-mobile").hide()}()});let t={desktop:".desktop",mobile:".mobile"};if(window.numeroWhatsAppAG="552732032540",window.linkEncurtado="https://bit.ly/43u3oa6",window.numeroWhatsAppFormatadoAG="(27) 3203-2540",window.urlWhatsAppApi="https://wa.me/",window.textoUrlGet="?text=Ol\xe1,%20estou%20navegando%20pelo%20e-commerce,%20pode%20me%20ajudar?",window.innerWidth>1200){let i=document.querySelector(".fulltext-search-box");i.addEventListener("click",()=>{localStorage.setItem("buscaPlaca",null)})}let a=null;function o(e){return e instanceof jQuery?e.hasClass("ativo"):e.classList.contains("ativo")}function s(t){var i,a,o,s="-";return o=(a=(i=e(t).text().toLowerCase(),i.normalize("NFD").replace(/[\u0300-\u036f]/g,"")),a.replace(/[^\w\s]/gi,"")),o.replace(/\s/g,"-")}if(window.isActiveElement=o,window.innerWidth>500){var l,n;let r;r=null,l=e(".painel-categorias__categoria.ativo"),window.jQuery(".painel-categorias__categoria-itens-lista-menu li a").hover(function(){r!=this&&window.jQuery(`#${s(r)}`).removeClass("ativo");let e=window.jQuery(`#${s(this)}`);o(e)||e.addClass("ativo"),r=this}),n=new MutationObserver(function(t){!o(t[0].target)&&r&&a.innerText!=r.innerText&&e(`#${s(r)}`).removeClass("ativo")}),l.length?n.observe(l[0],{attributes:!0,attributeFilter:["class"]}):console.info("[Topo] Nenhum painel de categorias encontrado — observer n\xe3o iniciado.")}async function c(){var e=document.querySelector(".topo .usuario.desktop");let t=await (await fetch("/no-cache/profileSystem/getProfile")).json();try{if(t.IsUserDefined){var i=t.Email,a=t.FirstName&&t.FirstName.length?t.FirstName:i.match(/([^{0-9}|.|@|-]+)/).pop();e.innerHTML=`<div class="user-avatar-icon"></div>
        <span>
          Ol\xe1, <b>${a}</b>
          <i class="arrow-down-icon-white"></i>
        </span>
        <ul class="usuario__opcoes">
          <li><a href="/_secure/account">Dados Pessoais</a></li>
          <li><a href="/_secure/account#/orders">Meus Pedidos</a></li>
          <li><a href="/_secure/account#/cards">Cart\xf5es</a></li>
          <li><a href="/_secure/account#/addresses">Endere\xe7os</a></li>
          <li id="logout"><button onclick="document.querySelector('#saindo').style.display = 'block'">Sair</button></li>
        </ul>`}else e.innerHTML=`<div class="user-avatar-icon"></div>
      <a id="login">
        <b>Entrar ou Cadastrar</b>
        <i class="arrow-down-icon-white"></i>
      </a>`,document.body.classList.add("not-logged-user")}catch(o){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("Ops, algo saiu errado com o login.",o.message)}}async function u(){(await (await fetch("/no-cache/profileSystem/getProfile")).json()).IsUserDefined&&document.querySelector("#div-login-mobile").addEventListener("click",()=>{document.getElementById("loading-spinner").style.display="flex",setTimeout(()=>{window.location.href="https://hml.autoglassonline.com.br/_secure/account#/"},500)})}async function d(){var t=e('.search-box input[type="text"].fulltext-search-box');if(t.length){var i=t.attr("id").replace("ftBox","");enableFullTextSearchBox("ftBox"+i,"ftDept"+i,"ftIdx"+i,"ftBtn"+i,"/SEARCHTERM?&utmi_p=_&utmi_pc=BuscaFullText&utmi_cp=SEARCHTERM","Pesquise por pe\xe7a, produto, marca do ve\xedculo..."),setTimeout(()=>{e(".search-box .btn-buscar").unbind().click(t=>{t.preventDefault();let i=e('.search-box input[type="text"].fulltext-search-box'),a={Initial:"Pesquise por pe\xe7a, produto, marca do ve\xedculo...",Invalid:"Informe o produto que deseja procurar"},o=i.val()===a.Initial||i.val()===a.Invalid||""===i.val();if(o)i.val("Informe o produto que deseja procurar"),i.unbind("focus"),i.unbind("blur"),i.focus(function(){e(this).filter(function(){return o}).val("")}),i.blur(function(){e(this).filter(function(){return""===e(this).val()}).val(o?a.Invalid:a.Initial)}),e(".search-box").css("border-color","#E74C3C");else{let s=i.attr("id").replace("ftBox","");doSearch("ftBox"+s,"ftDept"+s,"ftIdx"+s,"/SEARCHTERM?&utmi_p=_&utmi_pc=BuscaFullText&utmi_cp=SEARCHTERM","Buscar")}})},1e3)}}async function y(){var t=e('.search-box-mobile input[type="text"].fulltext-search-box');if(t.length){var i=t.attr("id").replace("ftBox","");enableFullTextSearchBox("ftBox"+i,"ftDept"+i,"ftIdx"+i,"ftBtn"+i,"/SEARCHTERM?&utmi_p=_&utmi_pc=BuscaFullText&utmi_cp=SEARCHTERM","Pesquisar"),setTimeout(()=>{e(".search-box .btn-buscar").unbind().click(t=>{t.preventDefault();let i=e('.search-box input[type="text"].fulltext-search-box'),a={Initial:"Pesquisar",Invalid:"Informe o produto que deseja procurar"},o=i.val()===a.Initial||i.val()===a.Invalid||""===i.val();if(o)i.val("Informe o produto que deseja procurar"),i.unbind("focus"),i.unbind("blur"),i.focus(function(){e(this).filter(function(){return o}).val("")}),i.blur(function(){e(this).filter(function(){return""===e(this).val()}).val(o?a.Invalid:a.Initial)}),e(".search-box").css("border-color","#E74C3C");else{let s=i.attr("id").replace("ftBox","");doSearch("ftBox"+s,"ftDept"+s,"ftIdx"+s,"/SEARCHTERM?&utmi_p=_&utmi_pc=BuscaFullText&utmi_cp=SEARCHTERM","Buscar")}})},1e3)}}async function p(e){let t=document.querySelector(`${e} .menu-carrinho`);t.addEventListener("click",e=>{window.location.href="/checkout/#/cart"});await m(t,await vtexjs.checkout.getOrderForm())}async function m(e,t){return t?f(e,t.items.length):f(e)}function f(e,t){let i=e.querySelector(".badge")?e.querySelector(".badge"):document.createElement("span");i.classList.add("badge"),i.innerHTML="number"==typeof t?t:Number.parseInt(i.innerHTML)+1||1,0!=i.innerHTML&&e.append(i),setTimeout(()=>e.classList.add("loaded"),500)}async function b(e){let{skuData:i}=e,a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,o=a>=1200?t.desktop:t.mobile,s=document.querySelector(`${o} .menu-carrinho .confirmacao`),l=s.querySelector(".item img"),n=s.querySelector(".item .titulo");s.style.visibility="visible";let r=document.querySelector(`${o} .menu-carrinho`);if(m(r,!1),i){let c=i.images.filter(e=>e.filter(e=>!0===e.IsMain).length>0).reduce((e,t)=>e.concat(t))[0];l.src=`https://autoglass.vteximg.com.br/arquivos/ids/${c.IdArchive}-90-90/${i.reference}.jpg`,n.textContent=i.name,s.style.opacity="1",setTimeout(()=>{s.style.opacity="0",setTimeout(()=>s.style.visibility="hidden",1e3)},3e3)}}async function v(e){let{itemsReturned:t}=await (await fetch("/buscaautocomplete?"+new URLSearchParams({maxRows:12,productNameContains:encodeURIComponent(e)}))).json();return t&&t.map(e=>({href:e.href,name:e.name,thumb:e.thumb}))}function $(){let t=document.querySelector(".side-menu-backdrop"),i=document.querySelector("#launcher"),a=document.querySelector("#whatsapp-icon-link");t.style.display="unset",t.style.opacity="1",document.body.style.overflowY="hidden",document.documentElement.style.overflowY="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top="0",i?(i.style.transition="opacity 0.5s ease, visibility 0.5s ease",i.style.opacity="0",setTimeout(()=>{i&&(i.style.visibility="hidden")},500),i.style.pointerEvents="none"):console.warn("⚠️ Zendesk ainda n\xe3o carregou (#launcher inexistente)"),a&&(a.style.transition="opacity 0.3s ease",a.style.opacity="0.5");let o=document.getElementById("side-menu");o.style.display="unset",setTimeout(()=>{o.style.width="338px",setTimeout(()=>o.querySelectorAll("a").forEach(e=>e.style.opacity="1"),200)},300),x(),setTimeout(()=>{let t=e("#busca-placa-mobile #categoria-select"),i=t.find(".smart-select__main-results");i.is(":visible")||i.stop(!0,!0).slideDown("fast")},500),setTimeout(()=>{let t=e("#busca-peca-mobile #pecas-select .smart-select__main-results");t.length&&!t.is(":visible")&&t.stop(!0,!0).slideDown("fast")},700)}function h(){document.querySelector("main")?.classList.add("no-scroll");let e=document.querySelector("#launcher"),t=document.querySelector("#whatsapp-icon-link"),i=document.getElementById("busca-categoria-mobile"),a=document.querySelector(".product-qd-v1-social-share.mobile");a&&(a.style.zIndex="0",a.style.pointerEvents="none"),document.body.style.overflowY="hidden",document.documentElement.style.overflowY="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top="0",e?(e.style.transition="opacity 0.5s ease, visibility 0.5s ease",e.style.opacity="0",setTimeout(()=>{e&&(e.style.visibility="hidden")},500),e.style.pointerEvents="none"):console.warn("⚠️ Zendesk ainda n\xe3o carregou (#launcher inexistente)"),t&&(t.style.transition="opacity 0.3s ease",t.style.opacity="0.5"),i.style.display="unset",i.style.opacity="1",i.classList.remove("is-active"),i.offsetHeight,i.classList.add("is-active"),setTimeout(()=>{i.querySelectorAll("a").forEach(e=>{e.style.opacity="1"})},400),function e(){let t=window.scrollY||document.documentElement.scrollTop;document.body.classList.add("lock-scroll"),document.body.style.top=`-${t}px`,document.body.dataset.scrollY=t}(),x()}function g(){let e=document.querySelector(".side-menu-backdrop"),t=document.getElementById("side-menu"),i=document.querySelector("#launcher"),a=document.querySelector("#whatsapp-icon-link");document.body.style.overflowY="auto",document.documentElement.style.overflowY="auto",document.body.style.position="static",document.body.style.width="auto",document.body.style.top="auto",i?(i.style.visibility="visible",i.style.transition="opacity 0.5s ease, visibility 0.5s ease",setTimeout(()=>{i.style.opacity="1"},500),i.style.pointerEvents="auto"):console.warn("⚠️ Zendesk ainda n\xe3o carregou (#launcher inexistente)"),a&&(a.style.transition="opacity 0.3s ease",a.style.opacity="1"),t.querySelectorAll("a").forEach(e=>e.style.opacity="0"),e.style.opacity="1",setTimeout(()=>{t.style.width="0",e.style.display="none",setTimeout(()=>{t.style.display="none"},200)},300),document.querySelector(".side-menu-backdrop").style.display="none"}function E(){document.querySelector("main")?.classList.remove("no-scroll"),document.body.classList.remove("no-scroll");let e=document.querySelector(".side-menu-backdrop"),t=document.getElementById("busca-categoria-mobile"),i=document.querySelector("#launcher"),a=document.querySelector("#whatsapp-icon-link"),o=document.querySelector(".product-qd-v1-social-share.mobile");o&&setTimeout(()=>{o.style.zIndex="2",o.style.pointerEvents="auto"},400),t.classList.remove("is-active"),document.body.style.overflowY="auto",document.documentElement.style.overflowY="auto",document.body.style.position="static",document.body.style.width="auto",document.body.style.top="auto",i?(i.style.visibility="visible",i.style.transition="opacity 0.5s ease, visibility 0.5s ease",setTimeout(()=>{i.style.opacity="1"},500),i.style.pointerEvents="auto"):console.warn("⚠️ Zendesk ainda n\xe3o carregou (#launcher inexistente)"),a&&(a.style.transition="opacity 0.3s ease",a.style.opacity="1"),setTimeout(()=>{e.style.display="none"},400),function e(){let t=document.body.dataset.scrollY;document.body.classList.remove("lock-scroll"),document.body.style.top="",window.scrollTo(0,parseInt(t||"0"))}()}function x(){e(".search-box").removeClass("ativo"),e(".topo").unbind(),e(".container.mobile").unbind()}function S(t){e("html,body").scrollTop(t)}if(document.querySelectorAll(".shelf-qd-v1-buy-button").forEach(e=>{e.addEventListener("click",async function(e){let t=document.querySelector(".menu-carrinho"),i=(await vtexjs.checkout.getOrderForm()).items.length,a=setInterval(async()=>{let e=await vtexjs.checkout.getOrderForm();e.items.length>i&&(clearInterval(a),f(t,e.items.length))},100)})}),window.delayedAction=function e(t,i){i&&(i.abort(),i=null),i={};let a=setTimeout(t,100);return i.abort=()=>{clearTimeout(a)},i},p(t.mobile),document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(".side-menu-backdrop");e?e.addEventListener("click",()=>{g(),E()}):console.warn("Elemento .side-menu-backdrop n\xe3o encontrado no DOM."),u()}),e(".usuario__opcoes-mobile a").click(()=>{g()}),e(".usuario__opcoes-mobile a").click(()=>{E()}),e(window).on("orderFormUpdated.vtex",function(e,t){m(document.querySelector(".mobile .menu-carrinho"),t)}),e("html, body").animate({top:"-=0"},1e22),e("body").on("click",".page-number, .previous, .next",function(){let t=e(window).width();t>1200?S(350):t>1100?S(250):t<1100&&S(550),e(".page-number").removeClass("pgCurrent"),e(this).addClass("pgCurrent")}),(()=>{let i=document.querySelector(".painel-categorias__categoria-conteudo");if(i&&i.addEventListener("mouseenter",e=>{}),c(),d(),p(t.desktop),e(window).on("orderFormUpdated.vtex",function(e,t){m(document.querySelector(".desktop .menu-carrinho"),t)}),function e(t){let i=setInterval(()=>{window.skuEventDispatcher&&window.Vtex&&window.Vtex.JSEvents&&(clearInterval(i),t())},100)}(()=>{let e=new Vtex.JSEvents.Listener("batchBuyListener",e=>{console.log("\uD83D\uDE80 Evento recebido:",e),b(e)});skuEventDispatcher.addListener(skuDataReceivedEventName,e)}),window.innerWidth>1024){let a;a=null,e(".painel-categorias__categoria-itens-lista li.categoria").on("mouseenter",function(){let t=e(this).data("target");a&&a!==t&&e(`#${a}`).removeClass("ativo");let i=e(`#${t}`);i.hasClass("ativo")||i.addClass("ativo"),a=t})}})(),window.innerWidth>1025){let q=document.querySelector("#tab-busca-categoria a"),w=document.getElementById("busca-categoria"),k=document.querySelector(".c-busca__select.tipo-peca #pecas-select-desktop"),L=k?.querySelector(".smart-select__main-results");q?.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),L&&e(L).is(":visible")&&e(L).slideUp("fast"),e(w).is(":visible")?e(w).slideUp("fast"):e(w).slideDown("fast",function(){this.style.display="block"})}),e("#pecas-select-desktop").off("click"),e("#pecas-select-desktop").on("click",function(t){t.preventDefault(),t.stopImmediatePropagation();let i=e("#pecas-select-desktop .smart-select__main-results");e(t.target).is("li")||(e("#busca-categoria").is(":visible")&&e("#busca-categoria").slideUp("fast"),i.slideToggle("fast"))}),document.addEventListener("click",t=>{let i=w?.contains(t.target),a=k?.contains(t.target);i||a||(e(w).slideUp("fast"),e(L).slideUp("fast"))})}window.getLastTimeWhildshieldVanePopUpWasShown=function e(){return Number(localStorage.getItem("lastTimeWhildshieldVanePopUpWasShown"))},window.calculatesTwelveHours=function e(){return 432e5},window.valueBetweenRange=function e(t,i,a){return t<i?i:t>a?a:t},window.activateCategory=function e(t,i){let o=document.querySelector(".painel-categorias__menu .painel-categorias__categoria.ativo"),s=document.querySelectorAll(".painel-categorias__categoria-conteudo .painel-categorias__categoria-itens")[i];o&&(o.querySelector(".painel-categorias__categoria-header.ativo")?.classList.remove("ativo"),o.classList.remove("ativo"),document.querySelector(".painel-categorias__categoria-conteudo .painel-categorias__categoria-itens.ativo")?.classList.remove("ativo")),t.querySelector(".painel-categorias__categoria-header")?.classList.add("ativo"),t?.classList.add("ativo"),s?.classList.add("ativo"),a=t},window.toggleVisibility=function e(t){let i=document.getElementById(t);i.style.visibility="hidden"===i.style.visibility?"visible":"hidden"},window.getTranslateX=function e(t){let i=getComputedStyle(t).getPropertyValue("transform");return new WebKitCSSMatrix(i).m41},window.fixPlaceholderSearchMobile=y,window.autocompleteSearch=v,window.openNav=$,window.openNavCategory=h,window.closeNav=g,window.closeNavCategory=E,window.openCategorias=function e(){let t=document.getElementById("main-menu"),i=document.getElementById("busca-categoria-mobile");t.style.opacity="0",setTimeout(()=>{t.style.display="none",i.style.display="unset",i.style.opacity="1"},200)},window.closeCategorias=function e(){let t=document.getElementById("main-menu"),i=document.getElementById("busca-categoria-mobile");i.style.opacity="0",setTimeout(()=>{i.style.display="none",t.style.display="flex",t.style.opacity="1"},300)},window.toggleCategory=function e(t){return console.log(t),t.parentNode.classList.contains("ativo")?t.parentNode.classList.remove("ativo"):t.parentNode.classList.add("ativo")},document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("abrir-side-menu"),t=document.getElementById("abrir-menu-categ"),i=document.getElementById("fechar-side-menu"),a=document.getElementById("fechar-menu-categ");e&&e.addEventListener("click",$),t&&t.addEventListener("click",h),i&&i.addEventListener("click",g),a&&a.addEventListener("click",E)})}(jQueryNew);