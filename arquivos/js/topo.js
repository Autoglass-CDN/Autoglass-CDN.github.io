!function(e){document.addEventListener("DOMContentLoaded",function(){let t=document.referrer;if(["google.com","bing.com","yahoo.com","duckduckgo.com","baidu.com","yandex.com",].some(e=>t.includes(e))){let a=window.location.href.split(".br")[1];(window.location.href.includes("https://hml.autoglassonline.com.br")||window.location.href.includes("https://loja.autoglassonline.com.br"))&&(window.location.href=`https://autoglassonline.com.br${a}`)}let i;i=window.location.href.toLowerCase(),/institucional|pintura-automotiva|reparo-de-arranhoes-e-amassados/.test(i)&&e(".search-box-mobile").hide()});let t={desktop:".desktop",mobile:".mobile"};window.numeroWhatsAppAG="552732032540",window.linkEncurtado="https://bit.ly/43u3oa6",window.numeroWhatsAppFormatadoAG="(27) 3203-2540",window.urlWhatsAppApi="https://wa.me/",window.textoUrlGet="?text=Ol\xe1,%20estou%20navegando%20pelo%20e-commerce,%20pode%20me%20ajudar?",window.innerWidth>1200&&document.querySelector(".fulltext-search-box").addEventListener("click",()=>{localStorage.setItem("buscaPlaca",null)});let a=null;function i(e){return e instanceof jQuery?e.hasClass("ativo"):e.classList.contains("ativo")}function o(t){var a,i,o;return(o=(i=(a=e(t).text().toLowerCase()).normalize("NFD").replace(/[\u0300-\u036f]/g,"")).replace(/[^\w\s]/gi,"")).replace(/\s/g,"-")}if(window.isActiveElement=i,window.innerWidth>500){var s,l;let n;n=null,s=e(".painel-categorias__categoria.ativo"),window.jQuery(".painel-categorias__categoria-itens-lista-menu li a").hover(function(){n!=this&&window.jQuery(`#${o(n)}`).removeClass("ativo");let e=window.jQuery(`#${o(this)}`);i(e)||e.addClass("ativo"),n=this}),l=new MutationObserver(function(t){!i(t[0].target)&&n&&a.innerText!=n.innerText&&e(`#${o(n)}`).removeClass("ativo")}),s.length?l.observe(s[0],{attributes:!0,attributeFilter:["class"]}):console.info("[Topo] Nenhum painel de categorias encontrado — observer n\xe3o iniciado.")}async function r(){var e=document.querySelector(".topo .usuario.desktop");let t=await (await fetch("/no-cache/profileSystem/getProfile")).json();try{if(t.IsUserDefined){var a=t.Email,i=t.FirstName&&t.FirstName.length?t.FirstName:a.match(/([^{0-9}|.|@|-]+)/).pop();e.innerHTML=`<div class="user-avatar-icon"></div>
        <span>
          Ol\xe1, <b>${i}</b>
          <i class="arrow-down-icon-white"></i>
        </span>
        <ul class="usuario__opcoes">
          <li><a href="/_secure/account">Dados Pessoais</a></li>
          <li><a href="/_secure/account#/orders">Meus Pedidos</a></li>
          <li><a href="/_secure/account#/cards">Cart\xf5es</a></li>
          <li><a href="/_secure/account#/addresses">Endere\xe7os</a></li>
          <li id="logout"><button onclick="document.querySelector('#saindo').style.display = 'block'">Sair</button></li>
        </ul>`}else e.innerHTML=`<div class="user-avatar-icon"></div>
      <a id="login">
        <b>Entrar ou Cadastrar</b>
        <i class="arrow-down-icon-white"></i>
      </a>`,document.body.classList.add("not-logged-user")}catch(o){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("Ops, algo saiu errado com o login.",o.message)}}async function c(){(await (await fetch("/no-cache/profileSystem/getProfile")).json()).IsUserDefined&&document.querySelector("#div-login-mobile").addEventListener("click",()=>{document.getElementById("loading-spinner").style.display="flex",setTimeout(()=>{window.location.href="https://www.autoglassonline.com.br/_secure/account#/"},500)})}async function u(){var t=e('.search-box input[type="text"].fulltext-search-box');if(t.length){var a=t.attr("id").replace("ftBox","");enableFullTextSearchBox("ftBox"+a,"ftDept"+a,"ftIdx"+a,"ftBtn"+a,"/SEARCHTERM?&utmi_p=_&utmi_pc=BuscaFullText&utmi_cp=SEARCHTERM","Pesquise por pe\xe7a, produto, marca do ve\xedculo..."),setTimeout(()=>{e(".search-box .btn-buscar").unbind().click(t=>{t.preventDefault();let a=e('.search-box input[type="text"].fulltext-search-box'),i={Initial:"Pesquise por pe\xe7a, produto, marca do ve\xedculo...",Invalid:"Informe o produto que deseja procurar"},o=a.val()===i.Initial||a.val()===i.Invalid||""===a.val();if(o)a.val("Informe o produto que deseja procurar"),a.unbind("focus"),a.unbind("blur"),a.focus(function(){e(this).filter(function(){return o}).val("")}),a.blur(function(){e(this).filter(function(){return""===e(this).val()}).val(o?i.Invalid:i.Initial)}),e(".search-box").css("border-color","#E74C3C");else{let s=a.attr("id").replace("ftBox","");doSearch("ftBox"+s,"ftDept"+s,"ftIdx"+s,"/SEARCHTERM?&utmi_p=_&utmi_pc=BuscaFullText&utmi_cp=SEARCHTERM","Buscar")}})},1e3)}}async function d(){var t=e('.search-box-mobile input[type="text"].fulltext-search-box');if(t.length){var a=t.attr("id").replace("ftBox","");enableFullTextSearchBox("ftBox"+a,"ftDept"+a,"ftIdx"+a,"ftBtn"+a,"/SEARCHTERM?&utmi_p=_&utmi_pc=BuscaFullText&utmi_cp=SEARCHTERM","Pesquisar"),setTimeout(()=>{e(".search-box .btn-buscar").unbind().click(t=>{t.preventDefault();let a=e('.search-box input[type="text"].fulltext-search-box'),i={Initial:"Pesquisar",Invalid:"Informe o produto que deseja procurar"},o=a.val()===i.Initial||a.val()===i.Invalid||""===a.val();if(o)a.val("Informe o produto que deseja procurar"),a.unbind("focus"),a.unbind("blur"),a.focus(function(){e(this).filter(function(){return o}).val("")}),a.blur(function(){e(this).filter(function(){return""===e(this).val()}).val(o?i.Invalid:i.Initial)}),e(".search-box").css("border-color","#E74C3C");else{let s=a.attr("id").replace("ftBox","");doSearch("ftBox"+s,"ftDept"+s,"ftIdx"+s,"/SEARCHTERM?&utmi_p=_&utmi_pc=BuscaFullText&utmi_cp=SEARCHTERM","Buscar")}})},1e3)}}async function y(e){let t=document.querySelector(`${e} .menu-carrinho`);t.addEventListener("click",e=>{window.location.href="/checkout/#/cart"}),await p(t,await vtexjs.checkout.getOrderForm())}async function p(e,t){return t?m(e,t.items.length):m(e)}function m(e,t){let a=e.querySelector(".badge")?e.querySelector(".badge"):document.createElement("span");a.classList.add("badge"),a.innerHTML="number"==typeof t?t:Number.parseInt(a.innerHTML)+1||1,0!=a.innerHTML&&e.append(a),setTimeout(()=>e.classList.add("loaded"),500)}async function b(e){let{skuData:a}=e,i=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>=1200?t.desktop:t.mobile,o=document.querySelector(`${i} .menu-carrinho .confirmacao`),s=o.querySelector(".item img"),l=o.querySelector(".item .titulo");if(o.style.visibility="visible",await p(document.querySelector(`${i} .menu-carrinho`),await vtexjs.checkout.getOrderForm()),a){let n=a.images.filter(e=>e.filter(e=>!0===e.IsMain).length>0).reduce((e,t)=>e.concat(t))[0];s.src=`https://autoglass.vteximg.com.br/arquivos/ids/${n.IdArchive}-90-90/${a.reference}.jpg`,l.textContent=a.name,o.style.opacity="1",setTimeout(()=>{o.style.opacity="0",setTimeout(()=>o.style.visibility="hidden",1e3)},3e3)}}async function h(e){let{itemsReturned:t}=await (await fetch("/buscaautocomplete?"+new URLSearchParams({maxRows:12,productNameContains:encodeURIComponent(e)}))).json();return t&&t.map(e=>({href:e.href,name:e.name,thumb:e.thumb}))}async function f(e){e.addEventListener("input",async e=>{if(e.target.value.trim().length<4)return;let t=document.querySelector("#autocomplete-search");t.innerHTML="<li><a>Aguarde...</a></li>";let a=await h(e.target.value);t.innerHTML=a.map(e=>`<li><a href='${e.href}'>${e.thumb}${e.name}</a></li>`).join("")})}function v(){let t=document.querySelector(".side-menu-backdrop"),a=document.querySelector("#launcher"),i=document.querySelector("#whatsapp-icon-link");t.style.display="unset",t.style.opacity="1",document.body.style.overflowY="hidden",document.documentElement.style.overflowY="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top="0",a?(a.style.transition="opacity 0.5s ease, visibility 0.5s ease",a.style.opacity="0",setTimeout(()=>{a&&(a.style.visibility="hidden")},500),a.style.pointerEvents="none"):console.warn("⚠️ Zendesk ainda n\xe3o carregou (#launcher inexistente)"),i&&(i.style.transition="opacity 0.3s ease",i.style.opacity="0.5");let o=document.getElementById("side-menu");o.style.display="unset",setTimeout(()=>{o.style.width="338px",setTimeout(()=>o.querySelectorAll("a").forEach(e=>e.style.opacity="1"),200)},300),E(),setTimeout(()=>{let t=e("#busca-placa-mobile #categoria-select").find(".smart-select__main-results");t.is(":visible")||t.stop(!0,!0).slideDown("fast")},500),setTimeout(()=>{let t=e("#busca-peca-mobile #pecas-select .smart-select__main-results");t.length&&!t.is(":visible")&&t.stop(!0,!0).slideDown("fast")},700)}function g(){document.querySelector("main")?.classList.add("no-scroll");let e=document.querySelector("#launcher"),t=document.querySelector("#whatsapp-icon-link"),a=document.getElementById("busca-categoria-mobile"),i=document.querySelector(".product-qd-v1-social-share.mobile"),o;i&&(i.style.zIndex="0",i.style.pointerEvents="none"),document.body.style.overflowY="hidden",document.documentElement.style.overflowY="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top="0",e?(e.style.transition="opacity 0.5s ease, visibility 0.5s ease",e.style.opacity="0",setTimeout(()=>{e&&(e.style.visibility="hidden")},500),e.style.pointerEvents="none"):console.warn("⚠️ Zendesk ainda n\xe3o carregou (#launcher inexistente)"),t&&(t.style.transition="opacity 0.3s ease",t.style.opacity="0.5"),a.style.display="unset",a.style.opacity="1",a.classList.remove("is-active"),a.offsetHeight,a.classList.add("is-active"),setTimeout(()=>{a.querySelectorAll("a").forEach(e=>{e.style.opacity="1"})},400),o=window.scrollY||document.documentElement.scrollTop,document.body.classList.add("lock-scroll"),document.body.style.top=`-${o}px`,document.body.dataset.scrollY=o,E()}function $(){let e=document.querySelector(".side-menu-backdrop"),t=document.getElementById("side-menu"),a=document.querySelector("#launcher"),i=document.querySelector("#whatsapp-icon-link");document.body.style.overflowY="auto",document.documentElement.style.overflowY="auto",document.body.style.position="static",document.body.style.width="auto",document.body.style.top="auto",a?(a.style.visibility="visible",a.style.transition="opacity 0.5s ease, visibility 0.5s ease",setTimeout(()=>{a.style.opacity="1"},500),a.style.pointerEvents="auto"):console.warn("⚠️ Zendesk ainda n\xe3o carregou (#launcher inexistente)"),i&&(i.style.transition="opacity 0.3s ease",i.style.opacity="1"),t.querySelectorAll("a").forEach(e=>e.style.opacity="0"),e.style.opacity="1",setTimeout(()=>{t.style.width="0",e.style.display="none",setTimeout(()=>{t.style.display="none"},200)},300),document.querySelector(".side-menu-backdrop").style.display="none"}function x(){document.querySelector("main")?.classList.remove("no-scroll"),document.body.classList.remove("no-scroll");let e=document.querySelector(".side-menu-backdrop"),t=document.getElementById("busca-categoria-mobile"),a=document.querySelector("#launcher"),i=document.querySelector("#whatsapp-icon-link"),o=document.querySelector(".product-qd-v1-social-share.mobile"),s;o&&setTimeout(()=>{o.style.zIndex="2",o.style.pointerEvents="auto"},400),t.classList.remove("is-active"),document.body.style.overflowY="auto",document.documentElement.style.overflowY="auto",document.body.style.position="static",document.body.style.width="auto",document.body.style.top="auto",a?(a.style.visibility="visible",a.style.transition="opacity 0.5s ease, visibility 0.5s ease",setTimeout(()=>{a.style.opacity="1"},500),a.style.pointerEvents="auto"):console.warn("⚠️ Zendesk ainda n\xe3o carregou (#launcher inexistente)"),i&&(i.style.transition="opacity 0.3s ease",i.style.opacity="1"),setTimeout(()=>{e.style.display="none"},400),s=document.body.dataset.scrollY,document.body.classList.remove("lock-scroll"),document.body.style.top="",window.scrollTo(0,parseInt(s||"0"))}function E(){e(".search-box").removeClass("ativo"),e(".topo").unbind(),e(".container.mobile").unbind()}async function S(t){d(),t.addEventListener("input",async t=>{if(t.target.value.trim().length<4){e(".search-mobile-autocomplete").hide();return}let a=document.querySelector(".search-mobile-autocomplete"),i=await h(t.target.value);i.length>0?(a.innerHTML=i.filter((e,t)=>t<3).map(e=>`
        <li>
          <a href='${e.href}'>${e.thumb}${e.name.replace(t.target.value,`<b>${t.target.value}</b>`)}</a>
        </li>
      `).join(""),e(".search-mobile-autocomplete").show()):e(".search-mobile-autocomplete").hide()})}function q(t){e("html,body").scrollTop(t)}document.querySelectorAll(".shelf-qd-v1-buy-button a.btn-add-buy-button-asynchronous").forEach(e=>{e.addEventListener("click",async e=>{let t=document.querySelector(".menu-carrinho");t.classList.add("loaded"),p(t,await vtexjs.checkout.getOrderForm())})}),window.delayedAction=function e(t,a){a&&(a.abort(),a=null),a={};let i=setTimeout(t,100);return a.abort=()=>{clearTimeout(i)},a},S(document.querySelector(".search-box-mobile .busca input.fulltext-search-box")),y(t.mobile),document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(".side-menu-backdrop");e?e.addEventListener("click",()=>{$(),x()}):console.warn("Elemento .side-menu-backdrop n\xe3o encontrado no DOM."),c()}),e(".usuario__opcoes-mobile a").click(()=>{$()}),e(".usuario__opcoes-mobile a").click(()=>{x()}),window.jQuery(window).on("orderFormUpdated.vtex",function(e,t){let a=document.querySelector(".mobile .menu-carrinho");t?.items?.length!==parseInt(a.querySelector(".badge")?.innerHTML||0)&&p(a,t)}),e("html, body").animate({top:"-=0"},1e22),e("body").on("click",".page-number, .previous, .next",function(){let t=e(window).width();t>1200?q(350):t>1100?q(250):t<1100&&q(550),e(".page-number").removeClass("pgCurrent"),e(this).addClass("pgCurrent")});let w=window.innerWidth>1024?document.querySelector(".busca .fulltext-search-box"):document.querySelector(".search-box-mobile .fulltext-search-box");if((window.innerWidth>1024?document.querySelector(".search-box .search-icon"):document.querySelector(".search-box-mobile #search-icon")).addEventListener("click",function(){let e=w.value.trim();""!==e&&(dataLayer.push({event:"search",search_term:e}),window.location.href=`/${encodeURIComponent(e)}`)}),w.addEventListener("keydown",function(e){if(13===e.keyCode){let t=w.value;dataLayer.push({event:"search",search_term:t})}}),(()=>{var a;let i=document.querySelector(".painel-categorias__categoria-conteudo"),o;i&&i.addEventListener("mouseenter",e=>{}),r(),u(),y(t.desktop),window.jQuery(window).on("orderFormUpdated.vtex",function(e,t){let a=document.querySelector(".desktop .menu-carrinho");t?.items?.length!==parseInt(a.querySelector(".badge")?.innerHTML||0)&&p(a,t)}),a=()=>{let e=new Vtex.JSEvents.Listener("batchBuyListener",e=>{console.log("\uD83D\uDE80 Evento recebido:",e),b(e)});skuEventDispatcher.addListener(skuDataReceivedEventName,e)},o=setInterval(()=>{window.skuEventDispatcher&&window.Vtex&&window.Vtex.JSEvents&&(clearInterval(o),a())},100);let s=document.querySelector(".container.desktop .search-box #autocomplete-search"),l=document.querySelector(".container.desktop .search-box .busca input.fulltext-search-box");if(l.addEventListener("focus",()=>{s.style.visibility="visible",s.style.opacity="1"}),l.addEventListener("blur",()=>{s.style.opacity="0",setTimeout(()=>s.style.visibility="hidden",1e3)}),l.addEventListener("keydown",e=>{e=e||window.event}),f(l),window.innerWidth>1024){let n;n=null,e(".painel-categorias__categoria-itens-lista li.categoria").on("mouseenter",function(){let t=e(this).data("target");n&&n!==t&&e(`#${n}`).removeClass("ativo");let a=e(`#${t}`);a.hasClass("ativo")||a.addClass("ativo"),n=t})}})(),window.innerWidth>1025){let L=document.querySelector("#tab-busca-categoria a"),k=document.getElementById("busca-categoria"),I=document.querySelector(".c-busca__select.tipo-peca #pecas-select-desktop"),_=I?.querySelector(".smart-select__main-results");L?.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),_&&e(_).is(":visible")&&e(_).slideUp("fast"),e(k).is(":visible")?e(k).slideUp("fast"):e(k).slideDown("fast",function(){this.style.display="block"})}),e("#pecas-select-desktop").off("click"),e("#pecas-select-desktop").on("click",function(t){t.preventDefault(),t.stopImmediatePropagation();let a=e("#pecas-select-desktop .smart-select__main-results");e(t.target).is("li")||(e("#busca-categoria").is(":visible")&&e("#busca-categoria").slideUp("fast"),a.slideToggle("fast"))}),document.addEventListener("click",t=>{let a=k?.contains(t.target),i=I?.contains(t.target);a||i||(e(k).slideUp("fast"),e(_).slideUp("fast"))})}window.getLastTimeWhildshieldVanePopUpWasShown=function e(){return Number(localStorage.getItem("lastTimeWhildshieldVanePopUpWasShown"))},window.calculatesTwelveHours=function e(){return 432e5},window.valueBetweenRange=function e(t,a,i){return t<a?a:t>i?i:t},window.activateCategory=function e(t,i){let o=document.querySelector(".painel-categorias__menu .painel-categorias__categoria.ativo"),s=document.querySelectorAll(".painel-categorias__categoria-conteudo .painel-categorias__categoria-itens")[i];o&&(o.querySelector(".painel-categorias__categoria-header.ativo")?.classList.remove("ativo"),o.classList.remove("ativo"),document.querySelector(".painel-categorias__categoria-conteudo .painel-categorias__categoria-itens.ativo")?.classList.remove("ativo")),t.querySelector(".painel-categorias__categoria-header")?.classList.add("ativo"),t?.classList.add("ativo"),s?.classList.add("ativo"),a=t},window.toggleVisibility=function e(t){let a=document.getElementById(t);a.style.visibility="hidden"===a.style.visibility?"visible":"hidden"},window.getTranslateX=function e(t){let a=getComputedStyle(t).getPropertyValue("transform");return new WebKitCSSMatrix(a).m41},window.fixPlaceholderSearchMobile=d,window.autocompleteSearch=h,window.openNav=v,window.openNavCategory=g,window.closeNav=$,window.closeNavCategory=x,window.openCategorias=function e(){let t=document.getElementById("main-menu"),a=document.getElementById("busca-categoria-mobile");t.style.opacity="0",setTimeout(()=>{t.style.display="none",a.style.display="unset",a.style.opacity="1"},200)},window.closeCategorias=function e(){let t=document.getElementById("main-menu"),a=document.getElementById("busca-categoria-mobile");a.style.opacity="0",setTimeout(()=>{a.style.display="none",t.style.display="flex",t.style.opacity="1"},300)},window.toggleCategory=function e(t){return console.log(t),t.parentNode.classList.contains("ativo")?t.parentNode.classList.remove("ativo"):t.parentNode.classList.add("ativo")},document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("abrir-side-menu"),t=document.getElementById("abrir-menu-categ"),a=document.getElementById("fechar-side-menu"),i=document.getElementById("fechar-menu-categ");e&&e.addEventListener("click",v),t&&t.addEventListener("click",g),a&&a.addEventListener("click",$),i&&i.addEventListener("click",x)})}(jQueryNew);