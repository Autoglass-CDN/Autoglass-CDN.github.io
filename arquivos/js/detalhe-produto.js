!function(e){let t=window.location.href.includes("dev")||window.location.href.includes("mvp")||window.location.href.includes("hml")?"https://api-hml.autoglass.com.br/integracao-b2c/api/web-app":"https://api.autoglass.com.br/integracao-b2c/api/web-app",a=[...document.querySelectorAll("section.tab-content")],o=e=>document.querySelector(`a[href='#${e}'].tab-link`);e(".product-qd-v1-buy-button .buy-button.buy-button-ref").addClass("add-to-cart-ga"),Object.entries({whatsapp:".product-qd-v1-social-share.desktop .whatsapp",twitter:".product-qd-v1-social-share.desktop .twitter",mail:".product-qd-v1-social-share.desktop .mail",facebook:".product-qd-v1-social-share.desktop .facebook"}).forEach(([e,t])=>{document.querySelector(t).addEventListener("click",t=>{var a;return a=e,void dataLayer.push({event:"share",method:a,content_type:skuJson.skus[0].image,item_id:skuJson.skus[0].sku})})}),Object.entries({".link-whatsapp-texto.link-whatsapp-conteudo-sem-numero":"topo",".link-whatsapp-texto.gtm-whatsapp-botao-rodape":"widget",".link-whatsapp-texto.botao-compre-whatsapp":"compre-whatsapp",".link-whatsapp-texto.link-whatsapp":"footer"}).forEach(([e,t])=>{let a=document.querySelector(e);a&&a.addEventListener("click",e=>{var a;return a=t,void dataLayer.push({event:"whatsapp",position:a})})});let i=[],s=e(".veiculos-compativeis-search__search-suggestions");e(".veiculos-compativeis-search").hide();let c=(e,t)=>{let a=e.offsetTop,o=e.offsetHeight;for(;e.offsetParent;)a+=(e=e.offsetParent).offsetTop;return t&&(a-=t>1200?250:130),a<window.pageYOffset+window.innerHeight&&a+o>window.pageYOffset};window.onscroll=()=>{let e=!1;a.forEach(t=>{let a=o(t.id);c(t,window.innerWidth)&&!e?(a.classList.add("tab--current"),e=!0):a&&a.classList.remove("tab--current")})};let r=e=>{e.classList.toggle("ativo")};async function n(){return fetch("/api/catalog_system/pub/brand/list").then(e=>e.json()).then(e=>{let t=document.querySelector(".brandName").classList.value.replace("brandName","").trim().replace("-"," ").split(" ")[0],a=e.find(e=>e.name.includes(t));if(a&&""!==a.metaTagDescription){let o=a.metaTagDescription,i=document.querySelector("#descricao-marca");i.textContent=o,i.parentElement.parentElement.style.display="block"}})}async function l(){let e=await vtexjs.catalog.getCurrentProductWithVariations();try{let[t,a]=e.name.match(/(\d+)(\s?\-?\s?[0-9]+)?$/);return a}catch(o){return 0}}async function d(){let a=e("#opcionais"),o=await l(),i=e(".teste-opcionais");try{let s=await e.get(`${t}/produtos/${o}/opcionais-vtex`);s&&s.length>0&&(a.html(`
<h3>Caracter\xedsticas</h3>
<div class="caracteristicas__box">
${s.map(e=>`<span class="caracteristicas__caracteristica">${e}</span>`).join("")}
</div>
`),i.html(`
${s.map(e=>`<h4 class="lista-opcionais">${e}</h4>`).join("")}
<div class="container-mais-especificacoes">
<a class="mais-especificacoes">Mais informa\xe7\xf5es</a>
</div>
`))}catch(c){console.error("Falha ao renderizar opcionais. \n",c)}e(".container-mais-especificacoes .mais-especificacoes").click(function(){document.querySelector(".container-descricao #informacoes-gerais").scrollIntoView()})}async function p(){var e,t;let a=e=>document.querySelector(`a[href="#${e}"]`).parentElement.style.display="none",o=e=>{document.querySelector(`#${e}`).style.display="block",document.querySelector(`a[href="#${e}"]`).parentElement.style.display="unset"};a("outras-marcas"),a("compre-junto"),e="similars",""!=document.querySelector(`#${e}`).innerHTML&&o("outras-marcas"),t="sugestoes",""!=document.querySelector(`#${t}`).innerHTML&&o("compre-junto")}async function u(e){var t;let a=(t=e).trim().replace(/[\W_]+/g,"").toUpperCase();try{window.innerWidth<700&&(document.querySelector("#side-menu .loading-overlay").style.display="block");let{montadora:o,modelo:i,anoModelo:s,fipe:c}=await n(a);return{montadora:o,modelo:i,anoModelo:s,fipe:c}}catch(r){}async function n(){let e=await await window.Cloudflare_Turnstile.obterVeiculo({placa,containerSelector:"#compatContent",containerForRender:"#cf-turnstile-compat"});return montadora=e.Body.Data.Marca,modelo=e.Body.Data.Modelo,anoModelo=e.Body.Data.DadosBasicosDoVeiculo.AnoModelo,fipe=e.Body.Data.DadosBasicosDoVeiculo.InformacoesFipe?.[0]?.FipeId,{montadora,modelo,anoModelo,fipe}}}async function v(){let a=await l();return!function e(t){if(!t||String(t).length<6)return!0;let a=skuJson?.name?.toLowerCase()||"";if(a.includes("pel\xedcula")||a.includes("pelicula"))return!0}(a)?await e.get(`${t}/vendas/vendas/${parseInt(a)}`):null}async function h(){try{let e=(await (await fetch(`${t}/promocoes?nome=pix`)).json()).find(e=>e.isActive);if(e){var a;let o,i;a=e.percentualDiscountValue,o=parseFloat(document.querySelectorAll(".skuListPrice")[1].innerHTML.trim().replace("R$","").trim().replace(".","").replace(",",".")),(i=document.querySelectorAll(".skuBestPrice")).forEach((e,t)=>{let s=e.textContent.trim();s=(s=s.replace("R$","").trim()).replace(".","").replace(",",".");let c=parseFloat(s);if(!isNaN(c)){var r;let n=Math.round(100*(Math.round(c*(1-a/100)*1e3)/1e3))/100;if(e.textContent=n.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),e.style.fontSize="18px",t!==i.length-1){let l=document.createElement("div");l.classList.add("pix-discount"),l.textContent="no Pix";let d=document.createElement("div");d.classList.add("percent-box"),d.textContent=`-${Math.round((o-n)/o*100)}%`,e.parentElement.appendChild(l),e.parentElement.appendChild(d)}else{let p=document.createElement("div");p.classList.add("pix-discount"),p.textContent="no Pix",e.parentElement.appendChild(p),e.classList.add(".preco-bottom-mobile")}let u;e.style.display="inline-block",r=c,(u=document.querySelectorAll(".valor-dividido.price-installments")).forEach(function(e,t){let a=null!==e.closest(".product-qd-v1-fixed-bar");if(!e.classList.contains("modificada")){e.classList.add("modificada"),a&&(e.style.fontWeight="normal",e.style.setProperty("font-weight","normal","important"),e.style.color="#2d4f9e",e.querySelectorAll(".skuBestInstallmentNumber").forEach(e=>{if(/^\d+\s*x\s*$/i.test(e.textContent.trim())){let t=e.closest("span"),a=t.parentNode,o=!1;[...a.childNodes].forEach(e=>{o&&a.removeChild(e),(e===t||1===e.nodeType&&e.contains(t))&&(o=!0,[...t.childNodes].forEach(e=>{e.nodeType===Node.TEXT_NODE&&e.textContent.includes("de")&&(e.textContent="")}))})}}));let o=e.querySelector(".skuBestInstallmentNumber"),i=document.createElement("label");if(i.textContent=r.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),i.classList.add("skuBestInstallmentNumber"),o){o.parentNode.insertBefore(i,o);let s=document.createElement("span");s.textContent=" em ",s.classList.add("palavras-conectivas"),i.parentNode.insertBefore(s,o);let c=document.createElement("span");c.textContent=" sem juros",c.classList.add("span-sem-juros");let n=e.querySelector("strong");if(n&&n.appendChild(c),t!==u.length-1&&("none"===e.style.display||"none"===getComputedStyle(e).display)){let l=e.closest(".descricao-preco");if(l){let d=document.createElement("div");d.classList.add("valor-dividido","price-installments","modificada");let p=document.createElement("span");p.textContent="ou ",d.appendChild(p),tipoTag=0===t?"label":"span";let v=document.createElement(tipoTag);v.textContent=i.textContent,v.classList.add("skuBestInstallmentNumber"),d.appendChild(v),l.appendChild(d)}}}}})}})}else document.querySelectorAll(".skuBestPrice").forEach(e=>{e.style.display="inline-block"})}catch(s){document.querySelectorAll(".skuBestPrice").forEach(e=>{e.style.display="inline-block"})}}document.querySelectorAll(".contents .tab-content h2").forEach(e=>{e.onclick=()=>{r(e.closest(".tab-content"))},("Compre Junto"===e.textContent||"Outras Marcas"===e.textContent)&&setTimeout(()=>r(e.closest(".tab-content")),5e3)}),window.addEventListener("load",n),window.addEventListener("load",d),p(),e(window).on("load",async()=>{function a(){e(".product-qd-v1-image div#image").css("min-height",e(".product-qd-v1-image #image-main").width())}let o;window.addEventListener("resize",a),a(),o=encodeURIComponent(location.href),e(".product-qd-v1-social-share a.whatsapp").attr("href",`https://api.whatsapp.com/send?text=${o}`),e(".product-qd-v1-social-share a.twitter").attr("href",`https://twitter.com/intent/tweet?text=${o}`),e(".product-qd-v1-social-share a.mail").attr("href",`mailto:?subject=Quero%20compartilhar%20um%20produto%20da%20Autoglass&body=Veja%20este%20produto%20na%20Autoglass:%0D%0A${o}`),e(".product-qd-v1-social-share a.messenger").attr("href",`fb-messenger://share?link=${o}`),e(".product-qd-v1-social-share a.facebook").attr("href",`https://www.facebook.com/sharer.php?u=${o}`),e(".product-qd-v1-social-share a.popup-trigger").click(t=>{t.preventDefault(),e("div.product-qd-v1-social-share-options-popup").fadeToggle(400,"swing",()=>{e(".product-qd-v1-social-share a.copy").children("i.fas.fa-check").attr("class","far fa-copy")})}),e(".product-qd-v1-social-share a.copy").click(t=>{t.preventDefault(),navigator.clipboard.writeText(location.href),e(".product-qd-v1-social-share a.copy").children("i.far.fa-copy").fadeOut("fast").attr("class","fas fa-check").fadeIn("fast")}),e(".product-qd-v1-social-share a:not(.popup-trigger)").click(t=>{let a=e(t.target).closest("a").attr("class").replace("_","").split(" ");for(let o=0;o<a.length;o++)a[o]=a[o].charAt(0).toUpperCase()+a[o].slice(1);let i=a.join(" ");ga("create","UA-133498560-1","autoglassonline.com","gaSSTracker"),ga("gaSSTracker.set","transport","beacon"),ga("gaSSTracker.send","event","Social Share",`Compartilhar ${i}`,`Bot\xe3o ${i}`)});let c=e("#veiculos-compativeis"),n=await l(),d;try{d=await e.get(`${t}/produtos/${n}/veiculos-compativeis`)}catch(p){d=[]}if(i=d,d&&d.length>0){c.html(`
<h2>Ve\xedculos Compat\xedveis</h2>
<div class="veiculos-compativeis__box">
<div class="veiculos-compativeis__box-header">
<button id="group-prev" data-type="prev" type="button">
<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" alt="\xcdcone de seta para a esquerda">
<path id="Icon_ionic-ios-arrow-dropleft-circle" data-name="Icon ionic-ios-arrow-dropleft-circle" d="M19.375,3.375a16,16,0,1,0,16,16A16,16,0,0,0,19.375,3.375Zm3.338,22.238a1.49,1.49,0,0,1,0,2.1,1.467,1.467,0,0,1-1.046.431,1.492,1.492,0,0,1-1.054-.438l-7.231-7.254a1.483,1.483,0,0,1,.046-2.046l7.338-7.362a1.485,1.485,0,0,1,2.1,2.1l-6.3,6.231Z" transform="translate(35.375 35.375) rotate(180)" opacity="0.42"/>
</svg>
</button>
${d.map(function e(t,a){return`
<div id="${t.Grupo+a}" class="veiculos-compativeis__header-option">
<span>${t.Grupo}</span>
</div>
`}).join("")}
<button id="group-next" data-type="next" type="button">
<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" alt="\xcdcone de seta para a direita">
<path id="Icon_ionic-ios-arrow-dropleft-circle" data-name="Icon ionic-ios-arrow-dropleft-circle" d="M19.375,3.375a16,16,0,1,0,16,16A16,16,0,0,0,19.375,3.375Zm3.338,22.238a1.49,1.49,0,0,1,0,2.1,1.467,1.467,0,0,1-1.046.431,1.492,1.492,0,0,1-1.054-.438l-7.231-7.254a1.483,1.483,0,0,1,.046-2.046l7.338-7.362a1.485,1.485,0,0,1,2.1,2.1l-6.3,6.231Z" transform="translate(35.375 35.375) rotate(180)" opacity="0.42"/>
</svg>
</button>
</div>
<div class="veiculos-compativeis__box-content">
${d.map(function e(t,a){return`
<div data-for="${t.Grupo+a}">
${t.Veiculos.map(e=>`
<div class="veiculos-compativeis__content-compativel">
<p>${e.Veiculo}</p>
<div>${e.Anos.map(e=>"<span>"+e+"</span>").join(",&nbsp")}.</div>
</div>
`).join("")}
</div>
`}).join("")}
</div>
</div>
`),e(".veiculos-compativeis__header-option").first().addClass("active"),e(".veiculos-compativeis__box-content div").first().addClass("active"),e(".veiculos-compativeis__header-option").click(function(){e(".veiculos-compativeis__header-option").removeClass("active"),e(this).addClass("active"),e(".veiculos-compativeis__box-content div").removeClass("active"),e(`.veiculos-compativeis__box-content div[data-for="${e(this).attr("id")}"]`).addClass("active")}),e("#veiculos-compativeis .veiculos-compativeis__box .veiculos-compativeis__box-header button").click(function(){let t=e(this).attr("data-type"),a=e("#veiculos-compativeis .veiculos-compativeis__box .veiculos-compativeis__box-header");"next"===t?a[0].scrollBy(200,0):a[0].scrollBy(-200,0)});let v=e("#veiculos-compativeis .veiculos-compativeis__box .veiculos-compativeis__box-header");e("#veiculos-compativeis h2").click(()=>r(c[0])),_(v),v.on("scroll",function(){_(e(this))}),e(window).on("resize",function(){_(v)}),e(".veiculos-compativeis-search").show()}else e('a[href="#veiculos-compativeis"]').parent().hide(),c.hide();let h=Product.captureSkuSelectors(),m="/checkout/cart/add?sku="+h[0]+"&qty=1&seller=1&redirect=true&"+readCookie("VTEXSC");async function f(e){let t;if(e.trim().match(/^[A-Z]{3}[\-_]?[0-9][0-9A-Z][0-9]{2}$/i)){s.html(`
<div class="spinner-compatibilidade"></div>
`);let{modelo:a,anoModelo:o}=await u(e.trim());e=a,t=parseInt(o,10),s.empty()}if(i&&i.length>0&&e.length>0){let c=i.map(a=>a.Veiculos.filter(a=>RegExp(e.split(" ").map(e=>`(?=.*${e})`).join(""),"i").test(a.Veiculo)&&(void 0==t||a.Anos.includes(t)))).filter(e=>e.length>0);c.length?(s.html(c.flat().slice(0,3).map(y).join("")+`<div class="veiculos-compativeis-search__link">
<a href="#veiculos-compativeis">Ver todos</a>
</div>`),document.querySelectorAll("a.veiculos-compativeis__content-compativel-link").forEach(e=>e.addEventListener("click",$))):s.html(`
<div class="veiculos-compativeis-search__disclaimer">
Modelo de carro n\xe3o compat\xedvel :(
</div>
<div class="veiculos-compativeis-search__link">
<a href="#veiculos-compativeis">Ver todos</a>
</div>
`)}else s.empty()}function y(e,t){return`<a href="${m}" class="veiculos-compativeis__content-compativel-link">
<p>${e.Veiculo}</p>
<div>${e.Anos.map(e=>"<span>"+e+"</span>").join(",&nbsp")}.</div>
</a>`}function $(){ga("set","transport","beacon"),ga("send","event","Link SelectCar","Clique","Add ao Carrinho")}function _(t){let a=e("#veiculos-compativeis .veiculos-compativeis__box .veiculos-compativeis__box-header button");if(document.querySelector(".veiculos-compativeis__box-header").scrollWidth>window.innerWidth){var o;let i=100*(o=t[0]).scrollLeft/(o.scrollWidth-o.clientWidth);0===i?(a.last().css("display","flex"),a.first().css("display","none")):100===i?(a.first().css("display","flex"),a.last().css("display","none")):a.css("display","flex")}else a.css("display","none")}e(".veiculos-compativeis-search__search-box .veiculos-compativeis-search__search-input input").on("input",async function(){await f(e(this).val())});let b=null,g=null;document.querySelectorAll(".info-acessorios-ag").forEach(e=>{e.querySelector("#nome-produto-acessorio-ag")?.textContent?.toUpperCase()?.includes("INSUMO")&&(b=e.querySelector("#codigo-sku-acessorio-ag")?.textContent?.trim(),g=e.querySelector("#preco-acessorios-ag")?.textContent?.replace("R$","")?.trim())}),e(".product-qd-v1-buy-button .buy-button").attr("href","#");let x="/checkout/cart/add?sku="+h[0]+"&qty=1&seller=1&redirect=true&"+readCookie("VTEXSC"),w=x+"&sku="+b+"&qty=1&seller=1&redirect=true&"+readCookie("VTEXSC");g&&b||e(".card-instalacao").hide(),e(".product-qd-v1-buy-button .buy-button").click(function(){g&&b?window.location.href=w:window.location.href=x}),e(document).ready(function(){e(".botao-compre-whatsapp").click(function(){let e=`Ol\xe1, estou na p\xe1gina desse produto e gostaria de compr\xe1-lo: ${window.location.href}`;window.open(urlWhatsAppApi+numeroWhatsAppAG+"?text="+e,"_blank").focus()})})}),document.addEventListener("DOMContentLoaded",function(){let e,t;if(null!=(t=v())&&t.then(function(t){e=window.innerWidth<900?document.querySelector(".numero-vendas-mobile"):document.querySelector(".numero-vendas"),t>10&&(e.innerHTML=`
  <div class="vendas-wrapper">
    <i class="fa fa-shopping-bag"></i>
    <span class="texto-numero-vendas">${t}</span>
    <span class="texto-vendidos">vendidos</span>
  </div>
  `)}),window.innerWidth<=1024){function a(){let e=document.querySelector(".teste-opcionais"),t=e.querySelectorAll(".lista-opcionais");if(0===t.length)e.style.setProperty("display","none","important");else if(e.style.setProperty("display","block","important"),t.length>4)for(let a=4;a<t.length;a++)t[a].style.display="none";else for(let o=0;o<t.length;o++)t[o].style.display="block"}let o,i;0===(o=document.querySelector(".teste-opcionais")).querySelectorAll(".lista-opcionais").length?o.style.setProperty("display","none","important"):a(),i=document.querySelector(".teste-opcionais"),new MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&(0===i.querySelectorAll(".lista-opcionais").length?i.style.setProperty("display","none","important"):a())})}).observe(i,{childList:!0,subtree:!0})}}),h(),e(document).ready(function(){new MutationObserver(function(t){t.forEach(function(t){t.addedNodes.forEach(function(t){"hs-web-interactives-top-anchor"===t.id&&e(t).css("display","none"),("hs-interactives-modal-overlay"===t.id||"hs-overlay-cta-191868118043"===t.id)&&e("#"+t.id).css("display","none")}),e("body").hasClass("go1432718904")&&e("body").removeClass("go1432718904")})}).observe(document.body,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["class"]})})}(jQueryNew);