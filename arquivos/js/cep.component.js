!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e){$((function(){const t='.cep:not(".link")',e="data-render-cep",n={FINISH_LOAD:"cep-finish-load",CEP_UPDATED:"cep-updated"},o="AG_AddressSelected",i={init:async function(){const o=await c.getOrderForm();o.shippingData&&c.saveAddressOnLocalStorage(o.shippingData),$(t).each((function(t,i){$(i).html("").addClass("ghost-loading");const s=$(i).attr(e);let l;i.id="cep"+t,$(s).css("position","relative"),$(s).css("overflow","hidden"),$(s).css("min-height","150px");let r=window.location.href.includes("/checkout"),d=+localStorage.getItem("ufDefinedByTop");!r&&d?l=null:o.shippingData&&(l=o.shippingData.address),a.renderCepInfo(i,s,l),$(window).on(n.CEP_UPDATED,async t=>{const e=t.originalEvent.detail;c.saveAddressOnLocalStorage(e.shippingData),$(i).html("").addClass("ghost-loading"),a.renderCepInfo(i,s,e.shippingData.address)}),$(window).on("orderFormUpdated.vtex",(t,e)=>{c.saveAddressOnLocalStorage(e.shippingData)})})),window.dispatchEvent(new CustomEvent(n.FINISH_LOAD,{detail:o}))},formatAddress:function(t){const{city:e,neighborhood:n,state:o,street:i,postalCode:a}=t;let c="";return i&&(c+=i),n&&(i&&(c+=" - "),c+=n),e&&(n&&(c+=", "),c+=e),o&&(e&&(c+=" - "),c+=o),c||a},submitEvent:async function(t){t.preventDefault();const e=$("#cep-input").val();if(e){$(".cep-new__content--loading").show().css("right","0");try{const[t]=await c.calculateShipping(e);$(".cep-new").css("transform","translateX(105%)"),localStorage.setItem("ufDefinedByTop",0),window.dispatchEvent(new CustomEvent(n.CEP_UPDATED,{detail:t})),setTimeout(()=>$(".cep-new").remove(),1e3)}catch(t){$(".cep-new__content--loading").hide().css("right","unset"),console.error(t)}}else $(this).addClass("cep-new__content-form--error")}},a={renderCepInfo:function(t,n,o){if(o){const e=i.formatAddress(o);$(t).removeClass("ghost-loading").html(`\n\t\t\t\t\t\t<div class="cep-info">\n\t\t\t\t\t\t\t<div class="cep-info__location">\n\t\t\t\t\t\t\t\t<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-geo-alt" fill="currentColor"\n\t\t\t\t\t\t\t\t\txmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t\t<path fill-rule="evenodd"\n\t\t\t\t\t\t\t\t\t\td="M12.166 8.94C12.696 7.867 13 6.862 13 6A5 5 0 0 0 3 6c0 .862.305 1.867.834 2.94.524 1.062 1.234 2.12 1.96 3.07A31.481 31.481 0 0 0 8 14.58l.208-.22a31.493 31.493 0 0 0 1.998-2.35c.726-.95 1.436-2.008 1.96-3.07zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z" />\n\t\t\t\t\t\t\t\t\t<path fill-rule="evenodd" d="M8 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span class="cep-info__location-street">${e}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button id="change-cep-button" class="cep-info__location-button">Alterar</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`)}else $(t).removeClass("ghost-loading").html('\n\t\t\t\t\t\t<div class="cep-info">\n\t\t\t\t\t\t\t<div class="cep-info__location">\n\t\t\t\t\t\t\t\t<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-geo-alt" fill="currentColor"\n\t\t\t\t\t\t\t\t\txmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t\t<path fill-rule="evenodd"\n\t\t\t\t\t\t\t\t\t\td="M12.166 8.94C12.696 7.867 13 6.862 13 6A5 5 0 0 0 3 6c0 .862.305 1.867.834 2.94.524 1.062 1.234 2.12 1.96 3.07A31.481 31.481 0 0 0 8 14.58l.208-.22a31.493 31.493 0 0 0 1.998-2.35c.726-.95 1.436-2.008 1.96-3.07zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z" />\n\t\t\t\t\t\t\t\t\t<path fill-rule="evenodd" d="M8 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button id="change-cep-button" class="cep-info__location-button">Informe seu cep aqui</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t');if(+localStorage.getItem("locationChanged")){const e=$("#"+t.id);let n=e.html();n+='<span class="cep-info__location-changed">Região alterada conforme novo CEP informado.</span>',e.html(n)}$(`#${t.id} .cep-info__location-button`).click(()=>{n?function(t){$(t).append('\n\t\t\t\t<div class="cep-new">\n\t\t\t\t\t<div class="cep-new__content">\n\t\t\t\t\t\t<div class="cep-new__content--loading">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-geo-alt" fill="currentColor"\n\t\t\t\t\t\t\t\t\txmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t\t<path fill-rule="evenodd"\n\t\t\t\t\t\t\t\t\t\td="M12.166 8.94C12.696 7.867 13 6.862 13 6A5 5 0 0 0 3 6c0 .862.305 1.867.834 2.94.524 1.062 1.234 2.12 1.96 3.07A31.481 31.481 0 0 0 8 14.58l.208-.22a31.493 31.493 0 0 0 1.998-2.35c.726-.95 1.436-2.008 1.96-3.07zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z" />\n\t\t\t\t\t\t\t\t\t<path fill-rule="evenodd" d="M8 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-geo-alt-fill" fill="currentColor"\n\t\t\t\t\t\t\t\t\txmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t\t<path fill-rule="evenodd"\n\t\t\t\t\t\t\t\t\t\td="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span class="cep-new__content-title">Informe seu CEP</span>\n\t\t\t\t\t\t<form class="cep-new__content-form">\n\t\t\t\t\t\t\t<input type="text" inputmode="numeric" autocomplete="off" id="cep-input" placeholder="00000-000" class="cep-new__content-input" />\n\t\t\t\t\t\t\t<button id="cep-new-button" type="submit" class="cep-new__content-button">\n\t\t\t\t\t\t\t\t<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-right-circle-fill" fill="currentColor"\n\t\t\t\t\t\t\t\t\txmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t\t<path fill-rule="evenodd"\n\t\t\t\t\t\t\t\t\t\td="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-11.5.5a.5.5 0 0 1 0-1h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5z" />\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="cep-new__footer">\n\t\t\t\t\t\t<button id="cep-back-button" type="button" class="cep-new__footer-back-button">Voltar</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'),setTimeout(()=>$(".cep-new").css("transform","translateX(0)"),100);const e=function(){const t=window.innerWidth<1200;return t?($("#cep-input").attr("placeholder","00000000"),$("#cep-input").attr("max-length","8")):($("#cep-input").attr("placeholder","00000-000"),$("#cep-input").attr("max-length","9"),$("#cep-input").mask("99999-999")),t}(),n=e?8:9;$(t+" #cep-back-button").click(t=>{$(".cep-new").css("transform","translateX(-105%)"),setTimeout(()=>$(".cep-new").remove(),1e3)}),$("#cep-input").focus(),$("#cep-input").click((function(){e||$(this)[0].setSelectionRange(0,0)})),$("#cep-input").keyup(t=>{t.preventDefault(),t.target.value.replace("_","").length===n&&i.submitEvent(t)}),$(".cep-new__content-form").on("submit",t=>{t.preventDefault(),$("#cep-input").val().replace("_","").length===n&&i.submitEvent(t)})}(n):console.error(e+" não encontrado. Id: "+t.id)})}},c={calculateShipping:async function(t){const e=await vtexjs.checkout.calculateShipping({postalCode:t,country:"BRA",addressType:"search"}),n=await vtexjs.checkout.calculateShipping({postalCode:t,country:"BRA",addressType:"residential"});return[e,n]},getOrderForm:async function(){return await vtexjs.checkout.getOrderForm()},saveAddressOnLocalStorage:function(t){localStorage.setItem(o,JSON.stringify({...t.address,logisticsInfo:t.logisticsInfo}))}};i.init()}))}]);