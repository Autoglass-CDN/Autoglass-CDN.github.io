!function(){$(document).ready(function(){let e=JSON.parse(localStorage.getItem("buscaPlaca"));if(window.innerWidth>1024){if(e){let t=JSON.parse(localStorage.getItem("smartSelectHistory")),a=t?.params?.plate,c=JSON.parse(localStorage.getItem("infoBuscaPLaca"));$(".tag").show(),$(".texto-compatibilidade").hide(),$(".input-container").hide(),$(".carro-compativel").text("Compat\xedvel com: "+c[0].modelo+" "+c[0].montadora),$(".texto-placa").text(a)}$(".botao-placa").on("click",function(){$(".tag").hide(),$(".input-container").show(),$(".texto-compatibilidade").show(),$("#placa-input-compatibilidade").val(""),$(".carro-compativel").hide()})}else document.getElementById("tab-busca-placa-mobile").querySelector('input[type="radio"]').checked=!0,sessionStorage.setItem("selectedOptionCategoria",null),sessionStorage.setItem("selectedOptionTipoPeca",null),sessionStorage.setItem("selectedOptionMontadora",null),sessionStorage.setItem("selectedOptionVeiculo",null),sessionStorage.setItem("selectedOptionAno",null),sessionStorage.setItem("selectedOptionVersao",null),sessionStorage.setItem("idAba","inputBuscaPeca")});let e=window.innerWidth>1024?"#busca-peca":"#busca-peca-mobile";!function t(){let{search:a}=location,c=JSON.parse(localStorage.getItem("smartSelectHistory")),l=null!==c&&"#busca-peca"==c.type,i=a&&a.includes("?PS=24&map=");l&&i&&(e="#busca-peca",document.querySelector("a[href='#busca-categoria']").parentNode.classList.remove("is-active"),document.querySelector("a[href='#busca-peca']").parentNode.classList.remove("is-active"),document.querySelector("#form-busca-peca").parentNode.classList.remove("is-active"),document.querySelector("a[href='#busca-peca']").parentNode.classList.add("is-active"),document.querySelector("#form-busca-peca").parentNode.classList.add("is-active"),window.innerWidth<1024&&(document.querySelector("a[href='#busca-categoria-mobile']").parentNode.classList.remove("is-active"),document.querySelector("a[href='#busca-peca-mobile']").parentNode.classList.remove("is-active"),document.querySelector("#form-busca-peca-mobile").parentNode.classList.remove("is-active"),document.querySelector("a[href='#busca-peca-mobile']").parentNode.classList.add("is-active"),document.querySelector("#form-busca-peca-mobile").parentNode.classList.add("is-active")))}();let t=function e(){return{buildMapFilters:r,buildURL:function e(t,a,c){let l=i(),n="";if(a.asyncSearchTerm)n+=s.ORIGIN,n+=l;else{let o=new URL(c.url);n+=s.ORIGIN,n+=o.href.replace(o.origin,"")}return n+`?${s.ASYNC.LID_FILTER}&${r(--t)}`},getCategoryTree:a,getFilters:c,search:o};async function a(){return await $.get(`${s.ORIGIN}/api/catalog_system/pub/category/tree/${s.ASYNC.TREE_LEVEL}`)}async function c(e,a,c){let l=t.buildURL(e,a,c);return await $.get(l)}function i(){return n.filter(e=>e.routeSelected).map(e=>e.routeSelected.includes("/")?e.routeSelected:`/${e.routeSelected}`).join("")}async function o(){let e=n.filter(e=>e.routeSelected).length,t=i(),a=s.ORIGIN;if(window.innerWidth<1024&&(document.querySelector("#side-menu .loading-overlay").style.display="block"),1===l.length){alert("Selecione pelo menos o primeiro campo!");return}t&&(a+=t,a+=`?${r(e-1)}`),e<1&&(a=function e(t,a){let c=t.includes("/")?t:`/${t}`;return a+c+"?PS=20&map=c,c"}(l,a)),window.buttonBuscarSelected=!0,window.sessionStorage.setItem("buttonBuscarSelected",window.buttonBuscarSelected),g(null,a),location.href=a}function r(e){let t="";for(let a=0;a<=e;a++)t+=s.ASYNC.MAP_PARAMS[a];return t}}(),a=function t(){return{_initSelect_:function e(t){$(`.c-busca__tab-content #${t.id}`).click(e=>{$(`.c-busca__tab-content #${t.id} .smart-select__main-results input`).val(""),t.values&&(a.buildList(t.values,t.id),a.selectOptionIfButtonHasValue(t.id),0!==t.values.length&&($(`.c-busca__tab-content #${t.id} .smart-select__main-results`).slideToggle("fast").click(e=>e.stopPropagation()),$(`.c-busca__tab-content #${t.id} .smart-select__main-results input`).focus()))}),$(`.c-busca__tab-content #${t.id} .smart-select__main-results input`).on("keydown",e=>{if(("Tab"===e.key||"Enter"===e.key)&&(e.preventDefault(),$(`.c-busca__tab-content #${t.id} ul li.${s.CSS.HIGHLIGHT}`).click()),"ArrowDown"===e.key){let a=0;$(`.c-busca__tab-content #${t.id} ul li`).each((e,t)=>{t.classList.contains(s.CSS.HIGHLIGHT)&&(a+=e+2,$(t).removeClass(s.CSS.HIGHLIGHT))}),a<=$(`.c-busca__tab-content #${t.id} ul li`).length?($(`.c-busca__tab-content #${t.id} ul li:nth-child(${a})`).addClass(s.CSS.HIGHLIGHT),$(`.c-busca__tab-content #${t.id} .smart-select__main-results ul`).animate({scrollTop:$(`.c-busca__tab-content #${t.id} ul li:nth-child(${a})`)[0].offsetTop-$(`.c-busca__tab-content #${t.id} ul li:nth-child(${a})`)[0].scrollHeight-$(`.c-busca__tab-content #${t.id} ul li:nth-child(${a})`)[0].scrollHeight/2},100)):($(`.c-busca__tab-content #${t.id} ul li:nth-child(1)`).addClass(s.CSS.HIGHLIGHT),$(`.c-busca__tab-content #${t.id} .smart-select__main-results ul`).animate({scrollTop:$(`.c-busca__tab-content #${t.id} ul li:nth-child(1)`)[0].offsetTop-($(`.c-busca__tab-content #${t.id} ul li:nth-child(1)`)[0].scrollHeight+$(`.c-busca__tab-content #${t.id} ul li:nth-child(1)`)[0].scrollHeight/2)},100))}if("ArrowUp"===e.key){let c=0;$(`.c-busca__tab-content #${t.id} ul li`).each((e,t)=>{t.classList.contains(s.CSS.HIGHLIGHT)&&(c=e,$(t).removeClass(s.CSS.HIGHLIGHT))}),0!==c?($(`.c-busca__tab-content #${t.id} ul li:nth-child(${c})`).addClass(s.CSS.HIGHLIGHT),$(`.c-busca__tab-content #${t.id} .smart-select__main-results ul`).animate({scrollTop:$(`.c-busca__tab-content #${t.id} ul li:nth-child(${c})`)[0].offsetTop-($(`.c-busca__tab-content #${t.id} ul li:nth-child(${c})`)[0].scrollHeight+$(`.c-busca__tab-content #${t.id} ul li:nth-child(${c})`)[0].scrollHeight/2)},100)):($(`.c-busca__tab-content #${t.id} ul li:nth-child(${$(`.c-busca__tab-content #${t.id} ul li`).length})`).addClass(s.CSS.HIGHLIGHT),$(`.c-busca__tab-content #${t.id} .smart-select__main-results ul`).animate({scrollTop:$(`.c-busca__tab-content #${t.id} ul li:nth-child(${$(`.c-busca__tab-content #${t.id} ul li`).length})`)[0].offsetTop-($(`.c-busca__tab-content #${t.id} ul li:nth-child(${$(`.c-busca__tab-content #${t.id} ul li`).length})`)[0].scrollHeight+$(`.c-busca__tab-content #${t.id} ul li:nth-child(${$(`.c-busca__tab-content #${t.id} ul li`).length})`)[0].scrollHeight/2)},100))}}).on("keyup",e=>{console.log("Filtrando"),["Tab","ArrowDown","ArrowUp","Enter"].find(t=>t===e.key)||a.filterResults(e,t)}),$(document).on("click",e=>{var a=$(`.c-busca__tab-content #${t.id}`);$(e.target).closest(a).length||$(`.c-busca__tab-content #${t.id} .smart-select__main-results`).slideUp("fast")})},_initSelectMobile_:function e(t){$(`.c-busca__tab-content-mobile #${t.id}`).click(e=>{if($(`.c-busca__tab-content-mobile #${t.id} .smart-select__main-results input`).val(""),t.values){a.buildList(t.values,t.id),a.selectOptionIfButtonHasValue(t.id);let c=document.querySelector("#side-menu");switch(0!==t.values.length&&($(`.c-busca__tab-content-mobile #${t.id} .smart-select__main-results`).slideToggle("fast",function(){"versao-select"!==t.id||$(this).is(":visible")||(c.style.height="105%")}).click(e=>{e.stopPropagation()}),$(`.c-busca__tab-content-mobile #${t.id} .smart-select__main-results input`).focus()),t.id){case"categoria-select":let l=document.querySelector("#categoria-select .smart-select__main-results > ul");l.style.height="175px",c.style.height="100%";break;case"ano-select":let i=document.querySelector("#ano-select");i.classList.contains("empty")||(window.innerWidth<=375?c.style.height="132%":c.style.height="128%");break;case"versao-select":if(t.values.length){let s=document.querySelector("#versao-select .smart-select__main-results > ul");window.innerWidth<=375?c.style.height="155%":c.style.height="150%",s.style.height="225px"}else c.style.height="105%"}}H()}),$(`.c-busca__tab-content-mobile #${t.id} .smart-select__main-results input`).on("keydown",e=>{if(("Tab"===e.key||"Enter"===e.key)&&(e.preventDefault(),$(`.c-busca__tab-content-mobile #${t.id} ul li.${s.CSS.HIGHLIGHT}`).click()),"ArrowDown"===e.key){let a=0;$(`.c-busca__tab-content-mobile #${t.id} ul li`).each((e,t)=>{t.classList.contains(s.CSS.HIGHLIGHT)&&(a+=e+2,$(t).removeClass(s.CSS.HIGHLIGHT))}),a<=$(`.c-busca__tab-content-mobile #${t.id} ul li`).length?($(`.c-busca__tab-content-mobile #${t.id} ul li:nth-child(${a})`).addClass(s.CSS.HIGHLIGHT),$(`.c-busca__tab-content-mobile #${t.id} .smart-select__main-results ul`).animate({scrollTop:$(`.c-busca__tab-content-mobile #${t.id} ul li:nth-child(${a})`)[0].offsetTop-$(`.c-busca__tab-content-mobile #${t.id} ul li:nth-child(${a})`)[0].scrollHeight-$(`.c-busca__tab-content-mobile #${t.id} ul li:nth-child(${a})`)[0].scrollHeight/2},100)):($(`.c-busca__tab-content-mobile #${t.id} ul li:nth-child(1)`).addClass(s.CSS.HIGHLIGHT),$(`.c-busca__tab-content-mobile #${t.id} .smart-select__main-results ul`).animate({scrollTop:$(`.c-busca__tab-content-mobile #${t.id} ul li:nth-child(1)`)[0].offsetTop-($(`.c-busca__tab-content-mobile #${t.id} ul li:nth-child(1)`)[0].scrollHeight+$(`.c-busca__tab-content-mobile #${t.id} ul li:nth-child(1)`)[0].scrollHeight/2)},100))}if("ArrowUp"===e.key){let c=0;$(`.c-busca__tab-content-mobile #${t.id} ul li`).each((e,t)=>{t.classList.contains(s.CSS.HIGHLIGHT)&&(c=e,$(t).removeClass(s.CSS.HIGHLIGHT))}),0!==c?($(`.c-busca__tab-content-mobile #${t.id} ul li:nth-child(${c})`).addClass(s.CSS.HIGHLIGHT),$(`.c-busca__tab-content-mobile #${t.id} .smart-select__main-results ul`).animate({scrollTop:$(`.c-busca__tab-content-mobile #${t.id} ul li:nth-child(${c})`)[0].offsetTop-($(`.c-busca__tab-content-mobile #${t.id} ul li:nth-child(${c})`)[0].scrollHeight+$(`.c-busca__tab-content-mobile #${t.id} ul li:nth-child(${c})`)[0].scrollHeight/2)},100)):($(`.c-busca__tab-content-mobile #${t.id} ul li:nth-child(${$(`.c-busca__tab-content-mobile #${t.id} ul li`).length})`).addClass(s.CSS.HIGHLIGHT),$(`.c-busca__tab-content-mobile #${t.id} .smart-select__main-results ul`).animate({scrollTop:$(`.c-busca__tab-content-mobile #${t.id} ul li:nth-child(${$(`.c-busca__tab-content-mobile #${t.id} ul li`).length})`)[0].offsetTop-($(`.c-busca__tab-content-mobile #${t.id} ul li:nth-child(${$(`.c-busca__tab-content-mobile #${t.id} ul li`).length})`)[0].scrollHeight+$(`.c-busca__tab-content-mobile #${t.id} ul li:nth-child(${$(`.c-busca__tab-content-mobile #${t.id} ul li`).length})`)[0].scrollHeight/2)},100))}}).on("keyup",e=>{console.log("Filtrando"),["Tab","ArrowDown","ArrowUp","Enter"].find(t=>t===e.key)||a.filterResults(e,t)}),$(document).on("click",e=>{var a=$(`.c-busca__tab-content-mobile #${t.id}`);$(e.target).closest(a).length||$(`.c-busca__tab-content-mobile #${t.id} .smart-select__main-results`).slideUp("fast")})},buildList:i,selectOptionIfButtonHasValue:function e(t){window.innerWidth>1024?$(`.c-busca__tab-content > .${t} ul li`).each((e,a)=>{a.innerHTML===$(`.c-busca__tab-content > .${t} div > span`).html()&&$(a).addClass(s.CSS.SELECTED)}):$(`.c-busca__tab-content-mobile > .${t} ul li`).each((e,a)=>{a.innerHTML===$(`.c-busca__tab-content-mobile > .${t} div > span`).html()&&$(a).addClass(s.CSS.SELECTED)})},filterResults:function e(t,a){if(t.target.value){let c=a.values.filter(e=>r(e.name.toUpperCase()).includes(r(t.target.value.toUpperCase())));i(c,a.id)}else i(a.values,a.id)},resetResults:o,virtualizedDOM:function e(t,a){let c=document.createElement("div");return c.innerHTML=t,[...c.querySelectorAll(`${a} > li > a`)].map(e=>({id:e.href,name:e.innerHTML.replace(/\s\(\d+\)/,""),pathname:e.pathname,search:e.search}))},createNavigation:function e(t,a){let c=n.findIndex(e=>e.id===t),l=n[c],i=n[c+1];window.innerWidth>1024?($(`.c-busca__tab-content  #${l.id} > div > span`).html(a),$(`.c-busca__tab-content  #${l.id} > div > .${s.CSS.ARROW_DOWN}`).hide(),$(`.c-busca__tab-content  #${l.id} > div > .${s.CSS.CLOSE}`).show().on("click",()=>o(c)),i?($(`.c-busca__tab-content #${i.id}`).removeClass(s.CSS.EMPTY),s.CANT_OPEN||$(`.c-busca__tab-content #${i.id}`).click()):s.CANT_OPEN||$(`.c-busca__tab-content  #${l.id}`).click().focus()):i?($(`.c-busca__tab-content-mobile #${i.id}`).removeClass(s.CSS.EMPTY),s.CANT_OPEN||$(`.c-busca__tab-content-mobile #${i.id}`).click()):s.CANT_OPEN||$(`.c-busca__tab-content-mobile  #${l.id}`).click().focus()}};function l(e,t){switch(t){case"categoria-select":sessionStorage.setItem("selectedOptionCategoria",e);break;case"pecas-select":sessionStorage.setItem("selectedOptionTipoPeca",e);break;case"montadora-select":sessionStorage.setItem("selectedOptionMontadora",e);break;case"veiculo-select":sessionStorage.setItem("selectedOptionVeiculo",e);break;case"ano-select":sessionStorage.setItem("selectedOptionAno",e);break;case"versao-select":sessionStorage.setItem("selectedOptionVersao",e)}}function i(t,a){let i="";if(window.innerWidth<=1024){if(t){t.sort((e,t)=>e.name.localeCompare(t.name));let n=function e(t){switch(t){case"categoria-select":return sessionStorage.getItem("selectedOptionCategoria");case"pecas-select":return sessionStorage.getItem("selectedOptionTipoPeca");case"montadora-select":return sessionStorage.getItem("selectedOptionMontadora");case"veiculo-select":return sessionStorage.getItem("selectedOptionVeiculo");case"ano-select":return sessionStorage.getItem("selectedOptionAno");case"versao-select":return sessionStorage.getItem("selectedOptionVersao")}}(a);t.forEach((e,t)=>{let a=n==e.id?"checked":"";i+=`<div class="busca-options" style="${t>=5?"display: none;":""}">
                          <li role="treeitem" id="${e.id}">
                            <input id="${e.id}" class="input-busca-options" type="radio" name="${e.name}" value="${e.id}" ${a}>
                            ${e.name}
                          </li>
                      </div>`}),$(`.c-busca__tab-content-mobile  #${a} ul`).html(i),$(`.c-busca__tab-content-mobile  #${a} ul li`).click(t=>{switch(e){case"#busca-peca-mobile":l(t.target.id,a),c.addClick(t,a),H(),"versao-select"===a&&function e(){let t=document.querySelector("#side-menu");t.style.height="104%"}();break;case"#busca-placa-mobile":l(t.target.id,a),m(t,a)}}),$(`.c-busca__tab-content-mobile  #${a} ul li`).first().addClass(s.CSS.HIGHLIGHT),$(".botao-ver-todas").show()}else $(`.c-busca__tab-content-mobile  #${a} ul`).html('<li style="background: white; color:#707070; cursor: default">Nenhum resultado encontrado.</li>')}else t?(t.sort((e,t)=>e.name.localeCompare(t.name)),t.forEach(e=>i+=`<li role="treeitem" id="${e.id}">${e.name}</li>`),$(`.c-busca__tab-content  #${a} ul`).html(i),$(`.c-busca__tab-content  #${a} ul li`).hover(e=>{$(`.c-busca__tab-content  #${a} ul li`).removeClass(s.CSS.HIGHLIGHT),$(e.target).addClass(s.CSS.HIGHLIGHT)}).click(t=>{switch(e){case"#busca-peca":c.addClick(t,a);break;case"#busca-placa":case"#busca-categoria":m(t,a)}}),$(`.c-busca__tab-content  #${a} ul li`).first().addClass(s.CSS.HIGHLIGHT)):$(`.c-busca__tab-content  #${a} ul`).html('<li style="background: white; color:#707070; cursor: default">Nenhum resultado encontrado.</li>')}function o(e){for(let t=e;t<=n.length-1;t++){let a=n[t],c=n[t+1];window.innerWidth>1024&&($(`.c-busca__tab-content  #${a.id} > div > span`).html(a.title),a.routeSelected="",c&&c.canBeClear&&($(`.c-busca__tab-content #${c.id}`).addClass(s.CSS.EMPTY),c.values=[],c.routeSelected=""),$(`.c-busca__tab-content  #${a.id} > div > .${s.CSS.ARROW_DOWN}`).show(),$(`.c-busca__tab-content  #${a.id} > div > .${s.CSS.CLOSE}`).hide())}}function r(e){return[{char:"A",base:/[\300-\306]/g},{char:"a",base:/[\340-\346]/g},{char:"E",base:/[\310-\313]/g},{char:"e",base:/[\350-\353]/g},{char:"I",base:/[\314-\317]/g},{char:"i",base:/[\354-\357]/g},{char:"O",base:/[\322-\330]/g},{char:"o",base:/[\362-\370]/g},{char:"U",base:/[\331-\334]/g},{char:"u",base:/[\371-\374]/g},{char:"N",base:/[\321]/g},{char:"n",base:/[\361]/g},{char:"C",base:/[\307]/g},{char:"c",base:/[\347]/g},].forEach(function(t){e=e.replace(t.base,t.char)}),e}}(),c=function e(){return{addClick:o,checkRouterParams:u};async function o(e,c){let s=document.querySelectorAll(".itens-lista li"),o=n.findIndex(e=>e.id===c),u=n[o],d=n[o+1],b=u.values.find(t=>t.id==e.target.id),h=new y;if(h.mostarSpinner(),a.resetResults(o),0!==o?u.routeSelected=r(b):l=r(b),3===o&&(i=b.name.toLowerCase()),d){if(b&&u.isAsyncSearch){var m,p,S,g;let f=await t.getFilters(o,u,b),v=a.virtualizedDOM(f,d.asyncSearchTerm);o+1===n.length-1&&(v=(m=v,p=i,m.filter(e=>e.name.toLowerCase().includes(p)))),o+1===n.length-2?v.sort((e,t)=>t.name.localeCompare(e.name)):v.sort((e,t)=>e.name.localeCompare(t.name)),d.values="Ve\xedculo"==d.title?(S=v,g=b.name,S.filter(e=>!RegExp(`\\b${g}\\b`,"i").test(e.name))):v,function e(t,a){let c=window.innerWidth>1024?document.getElementById("select-versao-fipe"):document.getElementById("select-versao-fipe-mobile");"Vers\xe3o"===a&&(0===t?c.style.display="none":c.style.display="block")}(v.length,d.title)}else d.values=b.children.sort((e,t)=>e.name.localeCompare(t.name));a.buildList(d.values,d.id)}window.innerWidth<1024&&("pecas-select"===u.id?function e(t,a){t.forEach(e=>{let t=e.querySelector('input[type="radio"]');t&&(t.checked=!1,e.id===a&&(t.checked=!0))})}(s,e.target.id):function e(t,a){let c=document.getElementById(`${a}`),l="versao-select"!=a?c.querySelectorAll(".itens-lista li"):c.querySelectorAll(".itens-list li");l.forEach(e=>{let a=e.querySelector('input[type="radio"]');a&&(a.checked=!1,e.textContent.trim()===t&&(a.checked=!0))})}(e.target.innerText,u.id)),a.createNavigation(u.id,e.target.innerHTML),window.innerWidth<1024&&(document.querySelector("#side-menu .loading-overlay").style.display="none"),h.ocultarSpinner()}function r(e){return e.url?e.url.replace(new URL(e.url).origin,""):e.name}async function u(){let{pathname:e,search:t}=location;if((t=decodeURIComponent(t))&&t.includes(s.ASYNC.MAP_PARAMS[0])||t.includes("?PS=20&map=c,c")){s.CANT_OPEN=!0;let a=decodeURI(e).split("/").filter(e=>e),{input:l,...i}=a.slice(0,3).join("/").match(/(\w+\/\w+)/),o=[i[0],l,...a.slice(3,a.length),];t.match(/\?PS=20&map=c,c$/)&&(o=[i[0]]);for(let r=1;r<o.length;r++){let u=n[r],d=u.values.find(e=>e.url?e.url.includes(o[r]):e.name.includes(o[r]));await c.addClick({target:{id:d.id,innerHTML:d.name}},u.id)}}s.CANT_OPEN=!1}}(),l="",i="";window.buttonBuscarSelected=!1;let s={ASYNC:{MAP_PARAMS:["PS=20&map=c,c,c",",specificationFilter_36",",specificationFilter_50",",specificationFilter_48",",specificationFilter_79"],TREE_LEVEL:2,LID_FILTER:"lid=bf120500-baab-4185-8b70-cc630f7d1c70"},CSS:{HIGHLIGHT:"highlight",EMPTY:"empty",ARROW_DOWN:"fa-caret-down",CLOSE:"fa-close",SELECTED:"selected"},CANT_OPEN:!1,ORIGIN:location.origin},n=[{title:"Produto",id:"produtos-select",values:[],routeSelected:"",isAsyncSearch:!1,asyncSearchTerm:"",canBeClear:!1},{title:"Produto",id:"pecas-select",values:[],routeSelected:"",isAsyncSearch:!0,asyncSearchTerm:"",canBeClear:!0},{title:"Montadora",id:"montadora-select",values:[],routeSelected:"",isAsyncSearch:!0,asyncSearchTerm:".Compatibilidade.Montadora",canBeClear:!0},{title:"Ve\xedculo",id:"veiculo-select",values:[],routeSelected:"",isAsyncSearch:!0,asyncSearchTerm:".Ve\xedculo",canBeClear:!0},{title:"Ano",id:"ano-select",values:[],routeSelected:"",isAsyncSearch:!0,asyncSearchTerm:".Ano",canBeClear:!0},{title:"Vers\xe3o",id:"versao-select",values:[],routeSelected:"",isAsyncSearch:!0,asyncSearchTerm:".Vers\xe3o.Fipe",canBeClear:!0},];async function o(){var e;let c=await t.getCategoryTree(),l=[],i=[],s;c.filter(e=>e.hasChildren).forEach(e=>{l.push(...e.children)}),l.forEach(e=>{i.push(...e.children)}),e=i,h[0].values=e,a.buildList(h[0].values,h[0].id),window.innerWidth>1024?a._initSelect_(h[0]):a._initSelectMobile_(h[0]),function e(){let{pathname:t,search:a}=location,c=JSON.parse(localStorage.getItem("smartSelectHistory")),l=c&&"#busca-placa"==c.type;if(a&&a.includes("?PS=24&map=")){if(a.includes("c,c,c,")){let i=decodeURI(t).split("/").filter(e=>e),s=i.slice(0,2).join("/"),n=h[0],o=n.values.find(e=>e.url?e.url.includes(s):e.name.includes(s));m({target:{id:o.id,innerHTML:o.name}},n.id)}l&&(document.querySelector("#placa-input").value=c.params.plate)}if(l&&c.params.url){if(a||(a=""),t||(t=""),!a.includes("?PS=24&map=")&&!t.includes("buscavazia")){localStorage.removeItem("smartSelectHistory");return}let[r,u]=c.params.url.split("?"),d=r.split("/").filter(e=>e),b=u.includes("c,c,c,")?d.slice(2,d.length):d;3===b.length&&b.splice(1,1);let p=b.reverse().join(" "),S=$(".resultado-busca-termo");S.length&&(S.addClass("has-value"),S.find(".value").text(p));let g=$("#busca-ft span:empty");g.length&&g.text(p+".")}}(),(window.innerWidth>1024?document.querySelector("#form-busca-placa"):document.querySelector("#form-busca-placa-mobile")).addEventListener("submit",e=>{e.preventDefault();let[t,a]=f();if(t){let c=new y;c.mostarSpinner(),location.href=a}else{let l=window.innerWidth>1024?document.querySelector("#placa-input").value:document.querySelector("#placa-input-mobile").value;0===l.length?alert("Voc\xea deve inserir a placa do seu ve\xedculo!"):l.trim().match(/^[A-Z]{3}[\-_]?[0-9][0-9A-Z][0-9]{2}$/i)?S(l):alert("Sua placa n\xe3o segue um padr\xe3o v\xe1lido!")}}),(s=document.querySelector("#form-busca-placa-compatibilidade"))?s.addEventListener("submit",e=>{e.preventDefault();let[t,a]=f();if(t){let c=new y;c.mostarSpinner(),location.href=a}else{let l=document.querySelector("#placa-input-compatibilidade").value;0===l.length?alert("Voc\xea deve inserir a placa do seu ve\xedculo!"):l.trim().match(/^[A-Z]{3}[\-_]?[0-9][0-9A-Z][0-9]{2}$/i)?S(l):alert("Sua placa n\xe3o segue um padr\xe3o v\xe1lido!")}}):console.error("Formul\xe1rio de compatibilidade n\xe3o encontrado."),await r(i)}async function r(e){n[1].values=e,await c.checkRouterParams(),a.buildList(n[1].values,n[1].id),window.innerWidth<1024?n.forEach(a._initSelectMobile_):n.forEach(a._initSelect_),window.innerWidth>1024?$("#form-busca-peca").submit(e=>{e.preventDefault(),t.search(),window.localStorage.setItem("buscaPlaca",!1)}):$("#form-busca-peca-mobile").submit(e=>{e.preventDefault(),t.search()})}if(o(),window.onload=()=>{if(window.matchMedia("(max-width: 1100px)").matches){var e=$(".system-error-qd-v1");(e.length||(e=$(".search-qd-v1-result")).length)&&(pixelsToScroll=(aimElementTopOffset=e.offset().top)-(offsets=$("header.nav").height()+$("div.topo").height()),$("html, body").animate({scrollTop:pixelsToScroll},"slow"))}},window.innerWidth>1024){let u=document.querySelectorAll(".c-busca__tabs li");u.forEach(t=>{t.addEventListener("click",a=>{a.preventDefault(),u.forEach(e=>e.classList.remove("is-active")),t.classList.add("is-active"),e=t.querySelector("a").attributes.href.nodeValue;document.querySelectorAll(".c-busca__tab-content").forEach(e=>e.classList.remove("is-active"));document.querySelector(t.querySelector("a").hash).classList.add("is-active")})})}else{var d;d=document.querySelectorAll(".c-busca__tabs-mobile li"),d.forEach(t=>{t.addEventListener("click",a=>{a.preventDefault(),d.forEach(e=>e.classList.remove("is-active")),t.classList.add("is-active"),(abaSelected=t.querySelector('input[type="radio"]')).checked,sessionStorage.setItem("idAba",abaSelected.id),e=t.querySelector("a").attributes.href.nodeValue;document.querySelectorAll(".c-busca__tab-content-mobile").forEach(e=>e.classList.remove("is-active"));document.querySelector(t.querySelector("a").hash).classList.add("is-active")}),window.innerWidth<1024&&setInterval(b,500)})}function b(){let e=sessionStorage.getItem("idAba");""!=e&&(document.getElementById(`${e}`).checked=!0)}let h=[{title:"Tipo de Pe\xe7a",id:"categoria-select",values:[],routeSelected:"",isAsyncSearch:!1,asyncSearchTerm:"",canBeClear:!1},];function m(e,t){let a=h[0],c=a.values.find(t=>t.id==e.target.id),l=document.querySelectorAll(".itens-lista li");if(a.routeSelected=c.url?c.url.replace(new URL(c.url).origin,""):"/"+c.name.toLowerCase(),$(`.c-busca__tab-content  #${a.id} > div > span`).html(e.target.innerHTML),$(`.c-busca__tab-content  #${a.id} > div > .${s.CSS.ARROW_DOWN}`).hide(),$(`.c-busca__tab-content  #${a.id} > div > .${s.CSS.CLOSE}`).show().on("click",()=>{$(`.c-busca__tab-content  #${a.id} > div > span`).html(a.title),a.routeSelected="",$(`.c-busca__tab-content  #${a.id} > div > .${s.CSS.ARROW_DOWN}`).show(),$(`.c-busca__tab-content  #${a.id} > div > .${s.CSS.CLOSE}`).hide()}),$(".c-busca__tab-content .c-busca__input #placa-input").click().focus(),window.innerWidth<1024){p(l,e.target.id);let i=verificaValorCheckBox(t);i==e.target.id&&p(l,e.target.id)}}function p(e,t){e.forEach(e=>{let a=e.querySelector('input[type="radio"]');a&&e.id===t?a.checked=!0:a&&(a.checked=!1)})}async function S(e){var t,a,c;let l=h[0],i={MONTADORA:36,VEICULO:50,ANO:48,FIPE:76},n=new y,o=(t=e,t.trim().replace(/[\W_]+/g,"").toUpperCase());try{n.mostarSpinner(),window.innerWidth<1024&&(document.querySelector("#side-menu .loading-overlay").style.display="block");let{montadora:r,modelo:u,anoModelo:d,fipe:b}=await H(o),[m,p,S,f,]=await Promise.all([_({filtro:i.MONTADORA,regex:(a=r,RegExp(a.split(" ").join("|"),"gi"))}),_({filtro:i.VEICULO,regex:function e(t,a){let c=t.split(" ").filter(e=>RegExp(/[^\W_]+/,"gi").test(e)),l=function e(t,a){switch(!0){case"NEW CLASSIC"===t:return"CLASSIC";case"UP"===t:case"CROSS UP!"===t:return"Up!";case"FH 520"===t:return"FH 520";case RegExp(/^FH (12 )?\d{3}$/i).test(t):return"FH 12 Globetroter";case RegExp(/^FH 16 \d{3}$/i).test(t):return"FH 16 Globetroter";case RegExp(/^NH 12 \d{3}$/i).test(t):return"NH 12";case RegExp(/^NH 10 \d{3}$/i).test(t):return"NH 10";case"XC70"===t:return"S40";case"E-DELIVERY"===t:return"DELIVERY";case"POLO CLASSIC"===t:return"Polo Sedan";case"SS10"===t:return"S10";case"TTS"===t:return"TT";case RegExp(/^[A-Z]-CLASS$/i).test(t):return"Classe "+t.replace(/-CLASS/gi,"");default:let c=t.replace(RegExp(a.join(" "),"gi"),"").trim();return c}}(a,c),i=l.replace(/[\W]+/gi,""),s=`(${c.join("|")})`,n=`(${l}|${i})`,o=`^${n}$|${s} ${n}$`;return RegExp(o,"gi")}(r,u)}),_({filtro:i.ANO,regex:(c=d,RegExp(c.trim(),"gi"))}),b?_({filtro:i.FIPE,regex:function e(t){let a=t.replace(/(\d+)(\d)$/,"0$1-$2");return RegExp(a,"i")}(b)}):[],]);if(!S.length&&!m.length&&!p.length&&!f.length)throw new L(o);let v="",I="?PS=24&map=";l.routeSelected.length&&(v+=l.routeSelected,I+="c,c,c,"),f.length&&(v+=`/${f[0].Value}`,I+=`specificationFilter_${i.FIPE},`),S.length&&(v+=`/${S[0].Value}`,I+=`specificationFilter_${i.ANO},`),p.length&&(v+=`/${p[0].Value}`,I+=`specificationFilter_${i.VEICULO},`),m.length&&(v+=`/${m[0].Value}`,I+=`specificationFilter_${i.MONTADORA}`),window.innerWidth>1024&&$(".texto-placa").text(o),window.sessionStorage.setItem("buttonBuscarSelected",window.buttonBuscarSelected),window.localStorage.setItem("buscaPlaca",!0),window.buttonBuscarSelected=!0,E(o,v),v+=I,g(o,v),location.href=v}catch(C){C instanceof L?alert("Desculpe, n\xe3o conseguimos encontrar o seu ve\xedculo, favor utilizar a busca por pe\xe7a ou digitar seu carro e produto na busca livre no topo do site."):alert("Perd\xe3o pelo inconveniente! O servi\xe7o de busca por placa est\xe1 fora do ar no momento. Favor utilizar a busca por pe\xe7a!"),window.innerWidth<1024&&(document.querySelector("#side-menu .loading-overlay").style.display="none"),n.ocultarSpinner(),document.querySelector("a[href='#busca-peca']").click(),E(o,`n\xe3o encontrado`)}async function _({filtro:e,regex:t}){let a=await fetch(`${s.ORIGIN}/api/catalog_system/pub/specification/fieldValue/${e}`),c=await a.json(),l=c.filter(e=>t.test(e.Value));return l}function L(e){this.value=e,this.message=" n\xe3o retornou resultados.",this.toString=function(){return this.value+this.message}}function E(e,t){ga("create","UA-133498560-1","autoglassonline.com","gaBPTracker"),ga("gaBPTracker.set","transport","beacon"),ga("gaBPTracker.send","event","Busca por placa",`Consultar placa (${e})`,`Resultado: ${t}`)}async function H(e){let t=window.location.href.includes("dev")?"https://api-hml.autoglass.com.br":"https://api.autoglass.com.br",a=await fetch(`${t}/integracao-b2c/api/web-app/veiculos/${e}/placas`),c=await a.json();montadora=c.Body.Data.Marca,modelo=c.Body.Data.Modelo,anoModelo=c.Body.Data.DadosBasicosDoVeiculo.AnoModelo,fipe=c.Body.Data.DadosBasicosDoVeiculo.InformacoesFipe[0]?.FipeId;var l=JSON.parse(localStorage.getItem("infoBuscaPLaca"))||[];return l=[{montadora:montadora,modelo:modelo,anoModelo:anoModelo,fipe:fipe,timestamp:new Date().toLocaleString()},],localStorage.setItem("infoBuscaPLaca",JSON.stringify(l)),{montadora,modelo,anoModelo,fipe}}}function g(t,a){localStorage.setItem("smartSelectHistory",JSON.stringify({type:e,params:{plate:t,url:a}}))}function f(){let e=h[0];if(e.routeSelected.length){let t=e.routeSelected;if(["/lampadas","/higienizadores-e-filtros/higienizadores",].some(e=>t.includes(e)))return[!0,`${t}?PS=20&map=c,c`];if(t.includes("/borrachas-e-outros/borracha"))return[!0,"/borrachas-e-outros/borracha/borracha-universal-parabrisa?PS=20&map=c,c,c",]}return[!1,""]}class y{constructor(){let e=document.querySelectorAll(".smart-select__main-results"),t=document.querySelector(".c-busca .smart-select__modal");this.elementos=[...e,t]}mostarSpinner(){this.elementos.forEach(e=>e.classList.add("loader-modal--show"))}ocultarSpinner(){this.elementos.forEach(e=>e.classList.remove("loader-modal--show"))}}document.getElementById("toggleButton").addEventListener("click",function(){document.querySelectorAll(".busca-options").forEach(function(e){e.style.display="block",document.querySelector(".botao-ver-todas").style.display="none"})}),document.getElementById("toggleButton2").addEventListener("click",function(){document.querySelectorAll(".busca-options").forEach(function(e){e.style.display="block",document.getElementById("toggleButton2").style.display="none"})}),document.getElementById("toggleButton3").addEventListener("click",function(){document.querySelectorAll(".busca-options").forEach(function(e){e.style.display="block",document.getElementById("toggleButton3").style.display="none"})}),document.getElementById("toggleButton4").addEventListener("click",function(){document.querySelectorAll(".busca-options").forEach(function(e){e.style.display="block",document.getElementById("toggleButton4").style.display="none"})}),document.getElementById("toggleButton5").addEventListener("click",function(){document.querySelectorAll(".busca-options").forEach(function(e){e.style.display="block",document.getElementById("toggleButton5").style.display="none"})}),document.getElementById("toggleButton6").addEventListener("click",function(){document.querySelectorAll(".busca-options").forEach(function(e){e.style.display="block",document.getElementById("toggleButton6").style.display="none"})}),document.querySelector("#btn-busca-peca-limpar").addEventListener("click",()=>{(function e(t){for(let a=1;a<=n.length-1;a++){let c=n[a],l=n[a+1];$(`.c-busca__tab-content  #${c.id} > div > span`).html(c.title),c.routeSelected="",l&&l.canBeClear&&($(`.c-busca__tab-content #${l.id}`).addClass(s.CSS.EMPTY),l.values=[],l.routeSelected="")}})(1)}),document.querySelector("#btn-busca-placa-limpar").addEventListener("click",()=>{(function e(){let t=h[0];var a=document.querySelector("#placa-input");$(`.c-busca__tab-content  #${t.id} > div > span`).html(t.title),t.routeSelected="",a.value=""})()});let v=document.querySelector("#toggleButton");v.addEventListener("click",()=>{let e=document.querySelector("#categoria-select .smart-select__main-results > ul"),t=document.querySelector("#side-menu");window.innerWidth<=360?(e.style.height="292px",t.style.height="107%"):window.innerWidth<=390?(e.style.height="236px",t.style.height="107%"):window.innerWidth<=414?(e.style.height="307px",t.style.height="107%"):(e.style.height="240px",t.style.height="107%")});let I=document.querySelector("#toggleButton2");I.addEventListener("click",()=>{let e=document.querySelector("#pecas-select .smart-select__main-results > ul");e.style.height="176px"});let C=document.querySelector("#toggleButton3");C.addEventListener("click",()=>{let e=document.querySelector("#montadora-select .smart-select__main-results > ul");e.style.height="176px"});let _=document.querySelector("#toggleButton4");_.addEventListener("click",()=>{let e=document.querySelector("#veiculo-select .smart-select__main-results > ul");e.style.height="177px"});let L=document.querySelector("#toggleButton5");L.addEventListener("click",()=>{let e=document.querySelector("#ano-select .smart-select__main-results > ul");e.style.height="190px"});let E=document.querySelector("#toggleButton6");function H(){I.style.display="block",C.style.display="block",_.style.display="block",L.style.display="block",E.style.display="block"}E.addEventListener("click",()=>{let e=document.querySelector("#versao-select .smart-select__main-results > ul");e.style.height="250px"})}();